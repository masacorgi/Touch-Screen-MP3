# Touch-Screen-MP3
한국공학대 EH교과 (ARM Cortex M3 시스템 프로그래밍) 기말 과제로 개발된 터치스크린 MP3 프로그램을 기록한 공간입니다.   
STM32F407 개발보드 위에서 작업이 이루어졌습니다.

![image](https://github.com/user-attachments/assets/549fc051-dff9-409e-8420-d8d9bc256a4f)

* 목차
  1. 프로젝트 개요
  2. 주요 개발 내용
  3. 시스템 구성도
  4. 구현 내용
  5. 소프트웨어 이론 설명
  6. 결론

## 1. 프로젝트 개요
실습보드를 기반으로 MP3 Player를 구현하고자 한다.   
SD 메모리에 저장되어 있는 MP3 파일을 재생을 하고, 재생에 필요한 기능(Play/Pause/Next/Previous) 등의 기능들을 구현한다.   
   
LCD에 재생되는 음악 리스트 표시, 음악의 선택기능. 곡의 시간 표시와 재생되는 곡명을 표시한다.   
   
재생 음량을 조절할 수 있도록 한다.   
UI는 터치기능을 사용하여 구현한다.   

## 2. 주요 개발 내용
**MP3 Player 구현**   
* 재생 제어 기능 구현 : Play/Pause/Next/Previous
* 재생 방법 구현 : 단순재생
* 음악 리스트 표시, 음악 선택, 재생 시간 표시
* 음량 조절
* 터치 기능 구현
* 리모컨 기능 구현

## 3. 시스템 구성도
시스템 Block Diagram
![image](https://github.com/user-attachments/assets/1ad8b167-71c6-411b-a97a-01b62d759110)

## 4. 구현 내용
* 음악 재생 제어 기능
* 음악의 재생 시간 및 이름 표시 기능
* 리스트 표시 및 음악 선택 기능

  
## 5. 소프트웨어 이론 설명
이 소프트웨어는 stm32f4 와 보드에서 동작하는 mp3 player로, SD 카드에 저장되어 있는 .mp3파일을 로딩해 목록화, 재생하는 프로그램이다.
   
main.c 파일에 프로그램의 전체적인 흐름이 전부 담겨있다.   
main.c 는 전원이 공급되면 부팅을 시작하며, 부팅과정에서 모든 초기화를 진행하고 난 후 while (1) 을 통해 터치, 리모컨, 키 등 각종 입력장치로 들어오는 입력 값을 반복 검사한다.   

반복 내용은 main.c의 tick_process () 함수에 있으며, 스크린의 터치영역에 대한 동작과 각 리모컨, 키에 해당하는 동작이 조건문을 통해 설정되어 있다.   
.mp3 파일은 /source/audio_codec/mp3/ 에 위치한 코덱 파일과 audio.c 파일을 통해 재생된다. 

## 6. 첨부 소스파일
소스파일은 다음 디렉토리에서 확인하실 수 있습니다.
[stm32f4x_test_audio](./stm32fx_test_audio)
