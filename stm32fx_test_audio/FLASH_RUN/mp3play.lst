   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"mp3play.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.mp3_i2s_dma_tx_callback,"ax",%progbits
  20              		.align	1
  21              		.global	mp3_i2s_dma_tx_callback
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	mp3_i2s_dma_tx_callback:
  27              	.LFB131:
  28              		.file 1 "source\\audio\\mp3play.c"
   1:source\audio/mp3play.c **** /********************************************************************************/
   2:source\audio/mp3play.c **** /* mp3play.c                                                                    */
   3:source\audio/mp3play.c **** /* STM32F407ZGT6                                                                */
   4:source\audio/mp3play.c **** /* (Lee ChangWoo HL2IRW  hl2irw@daum.net 010-8573-6860)                 	*/
   5:source\audio/mp3play.c **** /* stm32f4x_test								*/
   6:source\audio/mp3play.c **** /********************************************************************************/
   7:source\audio/mp3play.c **** #include "../../hwdefs.h"
   8:source\audio/mp3play.c **** #include "../prototype.h"
   9:source\audio/mp3play.c **** #include <string.h>
  10:source\audio/mp3play.c **** #include "mp3dec.h"
  11:source\audio/mp3play.c **** 
  12:source\audio/mp3play.c **** 
  13:source\audio/mp3play.c **** __mp3ctrl *mp3ctrl;
  14:source\audio/mp3play.c **** volatile unsigned char mp3transferend = 0;
  15:source\audio/mp3play.c **** volatile unsigned char mp3witchbuf = 0;
  16:source\audio/mp3play.c **** 
  17:source\audio/mp3play.c **** 
  18:source\audio/mp3play.c **** HMP3Decoder mp3decoder;
  19:source\audio/mp3play.c **** MP3FrameInfo mp3frameinfo;
  20:source\audio/mp3play.c **** unsigned char *mp3_buffer;
  21:source\audio/mp3play.c **** unsigned char *mp3_readptr;
  22:source\audio/mp3play.c **** int mp3_offset = 0;
  23:source\audio/mp3play.c **** int mp3_outofdata = 0;
  24:source\audio/mp3play.c **** int mp3_bytesleft = 0;
  25:source\audio/mp3play.c **** 
  26:source\audio/mp3play.c **** extern volatile unsigned char volume,volume_flag;
  27:source\audio/mp3play.c **** extern volatile unsigned char audio_delay,audio_decode_flag,audio_read_flag,audio_run,audio_pause,m
  28:source\audio/mp3play.c **** extern unsigned int audio_old_sec,audio_br;
  29:source\audio/mp3play.c **** 
  30:source\audio/mp3play.c **** 
  31:source\audio/mp3play.c **** 
  32:source\audio/mp3play.c **** void mp3_fill_buffer (unsigned short *buf,unsigned short size,unsigned char nch)
  33:source\audio/mp3play.c **** {
  34:source\audio/mp3play.c ****       unsigned short i;
  35:source\audio/mp3play.c ****       unsigned short *p;
  36:source\audio/mp3play.c ****       while ((mp3transferend == 0) && (audio_pause == 0)){
  37:source\audio/mp3play.c ****             if (tick) {
  38:source\audio/mp3play.c ****                tick = 0;
  39:source\audio/mp3play.c ****                tick_process();
  40:source\audio/mp3play.c ****             }
  41:source\audio/mp3play.c ****       }
  42:source\audio/mp3play.c ****       mp3transferend = 0;
  43:source\audio/mp3play.c ****       if (mp3witchbuf == 0) {
  44:source\audio/mp3play.c **** 	 //p = (unsigned short *)audiodev.i2sbuf1;	// POINTER
  45:source\audio/mp3play.c **** 	 p = (void *)audiodev.i2sbuf1;	 
  46:source\audio/mp3play.c ****       } else {
  47:source\audio/mp3play.c **** 	 //p = (unsigned short *)audiodev.i2sbuf2;	// POINTER
  48:source\audio/mp3play.c **** 	 p = (void *)audiodev.i2sbuf2;	 
  49:source\audio/mp3play.c ****       }
  50:source\audio/mp3play.c ****       if (nch == 2) {
  51:source\audio/mp3play.c ****          for (i=0;i<size;i++) p[i] = buf[i];
  52:source\audio/mp3play.c ****       } else {
  53:source\audio/mp3play.c ****          for (i=0;i<size;i++) {
  54:source\audio/mp3play.c ****              p[2 * i] = buf[i];
  55:source\audio/mp3play.c ****              p[2 * i + 1] = buf[i];
  56:source\audio/mp3play.c ****          }
  57:source\audio/mp3play.c ****       }
  58:source\audio/mp3play.c **** }
  59:source\audio/mp3play.c **** 
  60:source\audio/mp3play.c **** 
  61:source\audio/mp3play.c **** void mp3_i2s_dma_tx_callback (void)
  62:source\audio/mp3play.c **** {
  29              		.loc 1 62 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  63:source\audio/mp3play.c ****       unsigned short i;
  34              		.loc 1 63 7 view .LVU1
  64:source\audio/mp3play.c ****       if (DMA1_Stream4->CR &(1 << 19)) {
  35              		.loc 1 64 7 view .LVU2
  36              		.loc 1 64 23 is_stmt 0 view .LVU3
  37 0000 124B     		ldr	r3, .L8
  38 0002 1349     		ldr	r1, .L8+4
  39 0004 1B6F     		ldr	r3, [r3, #112]
  40 0006 134A     		ldr	r2, .L8+8
  41              		.loc 1 64 10 view .LVU4
  42 0008 13F40023 		ands	r3, r3, #524288
  43 000c 10D0     		beq	.L2
  65:source\audio/mp3play.c **** 	 mp3witchbuf = 0;
  44              		.loc 1 65 3 is_stmt 1 view .LVU5
  45              		.loc 1 65 15 is_stmt 0 view .LVU6
  46 000e 0023     		movs	r3, #0
  47 0010 0B70     		strb	r3, [r1]
  66:source\audio/mp3play.c **** 	 if ((audiodev.status & 0x01) == 0) {
  48              		.loc 1 66 3 is_stmt 1 view .LVU7
  49              		.loc 1 66 16 is_stmt 0 view .LVU8
  50 0012 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
  51              		.loc 1 66 6 view .LVU9
  52 0014 13F00103 		ands	r3, r3, #1
  53 0018 06D1     		bne	.L3
  67:source\audio/mp3play.c **** 	    for (i=0;i<2304*2;i++) audiodev.i2sbuf1[i] = 0;
  54              		.loc 1 67 49 view .LVU10
  55 001a 1846     		mov	r0, r3
  56              	.L4:
  57              	.LVL0:
  58              		.loc 1 67 29 is_stmt 1 discriminator 3 view .LVU11
  59              		.loc 1 67 37 is_stmt 0 discriminator 3 view .LVU12
  60 001c 1168     		ldr	r1, [r2]	@ unaligned
  61              		.loc 1 67 49 discriminator 3 view .LVU13
  62 001e C854     		strb	r0, [r1, r3]
  63              		.loc 1 67 24 is_stmt 1 discriminator 3 view .LVU14
  64              	.LVL1:
  65              		.loc 1 67 15 discriminator 3 view .LVU15
  66              		.loc 1 67 6 is_stmt 0 discriminator 3 view .LVU16
  67 0020 0133     		adds	r3, r3, #1
  68              	.LVL2:
  69              		.loc 1 67 6 discriminator 3 view .LVU17
  70 0022 B3F5905F 		cmp	r3, #4608
  71 0026 F9D1     		bne	.L4
  72              	.L3:
  68:source\audio/mp3play.c **** 	 }
  69:source\audio/mp3play.c ****       } else {
  70:source\audio/mp3play.c **** 	 mp3witchbuf = 1;
  71:source\audio/mp3play.c **** 	 if ((audiodev.status & 0x01) == 0) {
  72:source\audio/mp3play.c **** 	    for (i=0;i<2304*2;i++)audiodev.i2sbuf2[i] = 0;
  73:source\audio/mp3play.c **** 	 }
  74:source\audio/mp3play.c ****       }
  75:source\audio/mp3play.c ****       mp3transferend = 1;
  73              		.loc 1 75 7 is_stmt 1 view .LVU18
  74              		.loc 1 75 22 is_stmt 0 view .LVU19
  75 0028 0B4B     		ldr	r3, .L8+12
  76 002a 0122     		movs	r2, #1
  77 002c 1A70     		strb	r2, [r3]
  76:source\audio/mp3play.c **** }
  78              		.loc 1 76 1 view .LVU20
  79 002e 7047     		bx	lr
  80              	.L2:
  70:source\audio/mp3play.c **** 	 if ((audiodev.status & 0x01) == 0) {
  81              		.loc 1 70 3 is_stmt 1 view .LVU21
  70:source\audio/mp3play.c **** 	 if ((audiodev.status & 0x01) == 0) {
  82              		.loc 1 70 15 is_stmt 0 view .LVU22
  83 0030 0120     		movs	r0, #1
  84 0032 0870     		strb	r0, [r1]
  71:source\audio/mp3play.c **** 	    for (i=0;i<2304*2;i++)audiodev.i2sbuf2[i] = 0;
  85              		.loc 1 71 3 is_stmt 1 view .LVU23
  71:source\audio/mp3play.c **** 	    for (i=0;i<2304*2;i++)audiodev.i2sbuf2[i] = 0;
  86              		.loc 1 71 16 is_stmt 0 view .LVU24
  87 0034 117D     		ldrb	r1, [r2, #20]	@ zero_extendqisi2
  71:source\audio/mp3play.c **** 	    for (i=0;i<2304*2;i++)audiodev.i2sbuf2[i] = 0;
  88              		.loc 1 71 6 view .LVU25
  89 0036 C907     		lsls	r1, r1, #31
  90 0038 F6D4     		bmi	.L3
  72:source\audio/mp3play.c **** 	 }
  91              		.loc 1 72 48 view .LVU26
  92 003a 1846     		mov	r0, r3
  93              	.L5:
  94              	.LVL3:
  72:source\audio/mp3play.c **** 	 }
  95              		.loc 1 72 28 is_stmt 1 discriminator 3 view .LVU27
  72:source\audio/mp3play.c **** 	 }
  96              		.loc 1 72 36 is_stmt 0 discriminator 3 view .LVU28
  97 003c 5168     		ldr	r1, [r2, #4]	@ unaligned
  72:source\audio/mp3play.c **** 	 }
  98              		.loc 1 72 48 discriminator 3 view .LVU29
  99 003e C854     		strb	r0, [r1, r3]
  72:source\audio/mp3play.c **** 	 }
 100              		.loc 1 72 24 is_stmt 1 discriminator 3 view .LVU30
 101              	.LVL4:
  72:source\audio/mp3play.c **** 	 }
 102              		.loc 1 72 15 discriminator 3 view .LVU31
  72:source\audio/mp3play.c **** 	 }
 103              		.loc 1 72 6 is_stmt 0 discriminator 3 view .LVU32
 104 0040 0133     		adds	r3, r3, #1
 105              	.LVL5:
  72:source\audio/mp3play.c **** 	 }
 106              		.loc 1 72 6 discriminator 3 view .LVU33
 107 0042 B3F5905F 		cmp	r3, #4608
 108 0046 F9D1     		bne	.L5
 109 0048 EEE7     		b	.L3
 110              	.L9:
 111 004a 00BF     		.align	2
 112              	.L8:
 113 004c 00600240 		.word	1073897472
 114 0050 00000000 		.word	.LANCHOR0
 115 0054 00000000 		.word	audiodev
 116 0058 00000000 		.word	.LANCHOR1
 117              		.cfi_endproc
 118              	.LFE131:
 120              		.section	.text.mp3_file_seek,"ax",%progbits
 121              		.align	1
 122              		.global	mp3_file_seek
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 127              	mp3_file_seek:
 128              	.LVL6:
 129              	.LFB136:
  77:source\audio/mp3play.c **** 
  78:source\audio/mp3play.c **** 
  79:source\audio/mp3play.c **** unsigned char mp3_id3v1_decode (unsigned char *buf,__mp3ctrl *pctrl)
  80:source\audio/mp3play.c **** {
  81:source\audio/mp3play.c ****       ID3V1_Tag *id3v1tag;
  82:source\audio/mp3play.c ****       id3v1tag = (ID3V1_Tag *)buf;
  83:source\audio/mp3play.c ****       if (strncmp("TAG",(char *)id3v1tag->id,3) == 0) {
  84:source\audio/mp3play.c ****          if (id3v1tag->title[0]) strncpy((char *)pctrl->title,(char *)id3v1tag->title,30);
  85:source\audio/mp3play.c ****          if (id3v1tag->artist[0]) strncpy((char *)pctrl->artist,(char *)id3v1tag->artist,30);
  86:source\audio/mp3play.c ****       } else return 1;
  87:source\audio/mp3play.c ****       return 0;
  88:source\audio/mp3play.c **** }
  89:source\audio/mp3play.c **** 
  90:source\audio/mp3play.c **** 
  91:source\audio/mp3play.c **** unsigned char mp3_id3v2_decode (unsigned char *buf,unsigned int size,__mp3ctrl *pctrl)
  92:source\audio/mp3play.c **** {
  93:source\audio/mp3play.c ****       ID3V2_TagHead *taghead;
  94:source\audio/mp3play.c ****       ID3V23_FrameHead *framehead;
  95:source\audio/mp3play.c ****       unsigned int t;
  96:source\audio/mp3play.c ****       unsigned int tagsize;
  97:source\audio/mp3play.c ****       unsigned int frame_size;
  98:source\audio/mp3play.c ****       taghead = (ID3V2_TagHead *)buf;
  99:source\audio/mp3play.c ****       if (strncmp("ID3",(const char *)taghead->id,3) == 0) {
 100:source\audio/mp3play.c **** 	 tagsize = ((unsigned int)taghead->size[0] << 21) | ((unsigned int)taghead->size[1] << 14) | ((uns
 101:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 102:source\audio/mp3play.c **** 	 if (tagsize > size) tagsize = size;
 103:source\audio/mp3play.c **** 	 if (taghead->mversion < 3) {
 104:source\audio/mp3play.c **** 	    lcd_printf(0,29,"not supported mversion! ");
 105:source\audio/mp3play.c **** 	    return 1;
 106:source\audio/mp3play.c **** 	 }
 107:source\audio/mp3play.c **** 	 t = 10;
 108:source\audio/mp3play.c **** 	 while (t < tagsize) {
 109:source\audio/mp3play.c **** 	       framehead = (ID3V23_FrameHead *)(buf + t);
 110:source\audio/mp3play.c **** 	       frame_size = ((unsigned int)framehead->size[0] << 24) | ((unsigned int)framehead->size[1] <
 111:source\audio/mp3play.c **** 	       if (strncmp("TT2",(char *)framehead->id,3) == 0 || strncmp("TIT2",(char *)framehead->id,4) 
 112:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 113:source\audio/mp3play.c **** 	       }
 114:source\audio/mp3play.c **** 	       if (strncmp("TP1",(char*)framehead->id,3) == 0 || strncmp("TPE1",(char *)framehead->id,4) =
 115:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->artist,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN
 116:source\audio/mp3play.c **** 	       }
 117:source\audio/mp3play.c **** 	       t += frame_size + sizeof(ID3V23_FrameHead);
 118:source\audio/mp3play.c **** 	 }
 119:source\audio/mp3play.c ****       } else pctrl->datastart = 0;
 120:source\audio/mp3play.c ****       return 0;
 121:source\audio/mp3play.c **** }
 122:source\audio/mp3play.c **** 
 123:source\audio/mp3play.c **** 
 124:source\audio/mp3play.c **** unsigned char mp3_get_info (unsigned char *pname,__mp3ctrl *pctrl)
 125:source\audio/mp3play.c **** {
 126:source\audio/mp3play.c ****       HMP3Decoder decoder;
 127:source\audio/mp3play.c ****       MP3FrameInfo frame_info;
 128:source\audio/mp3play.c ****       MP3_FrameXing *fxing;
 129:source\audio/mp3play.c ****       MP3_FrameVBRI *fvbri;
 130:source\audio/mp3play.c ****       FIL *fmp3;
 131:source\audio/mp3play.c ****       unsigned char *buf;
 132:source\audio/mp3play.c ****       unsigned int br;
 133:source\audio/mp3play.c ****       unsigned char res;
 134:source\audio/mp3play.c ****       int offset = 0;
 135:source\audio/mp3play.c ****       unsigned int p;
 136:source\audio/mp3play.c ****       short samples_per_frame;
 137:source\audio/mp3play.c ****       unsigned int totframes;
 138:source\audio/mp3play.c ****       fmp3 = malloc(sizeof(FIL));
 139:source\audio/mp3play.c ****       buf = malloc(5 * 1024);
 140:source\audio/mp3play.c ****       if (fmp3 && buf) {
 141:source\audio/mp3play.c **** 	 f_open(fmp3,(const TCHAR *)pname,FA_READ);
 142:source\audio/mp3play.c **** 	 res = f_read(fmp3,(unsigned char *)buf,5 * 1024,&br);
 143:source\audio/mp3play.c **** 	 if (res == 0) {
 144:source\audio/mp3play.c **** 	    mp3_id3v2_decode(buf,br,pctrl);
 145:source\audio/mp3play.c **** 	    f_lseek(fmp3,fmp3->fsize - 128);
 146:source\audio/mp3play.c **** 	    f_read(fmp3,(unsigned char *)buf,128,&br);
 147:source\audio/mp3play.c **** 	    mp3_id3v1_decode(buf,pctrl);
 148:source\audio/mp3play.c **** 	    decoder = MP3InitDecoder();
 149:source\audio/mp3play.c **** 	    f_lseek(fmp3,pctrl->datastart);
 150:source\audio/mp3play.c **** 	    f_read(fmp3,(unsigned char *)buf,5 * 1024,&br);
 151:source\audio/mp3play.c ****  	    offset = MP3FindSyncWord(buf,br);
 152:source\audio/mp3play.c **** 	    if (offset >= 0 && MP3GetNextFrameInfo(decoder,&frame_info,&buf[offset]) == 0) {
 153:source\audio/mp3play.c **** 	       p = offset + 4 + 32;
 154:source\audio/mp3play.c **** 	       fvbri = (MP3_FrameVBRI *)(buf + p);
 155:source\audio/mp3play.c **** 	       if (strncmp("VBRI",(char *)fvbri->id,4) == 0) {
 156:source\audio/mp3play.c **** 		  if (frame_info.version == MPEG1) samples_per_frame = 1152;else samples_per_frame = 576;
 157:source\audio/mp3play.c ****  		  totframes = ((unsigned int)fvbri->frames[0] << 24) | ((unsigned int)fvbri->frames[1] << 16) | 
 158:source\audio/mp3play.c **** 		  pctrl->totsec = totframes * samples_per_frame / frame_info.samprate;
 159:source\audio/mp3play.c **** 	       } else {
 160:source\audio/mp3play.c **** 		  if (frame_info.version == MPEG1) {
 161:source\audio/mp3play.c **** 		     p = frame_info.nChans == 2 ? 32 : 17;
 162:source\audio/mp3play.c **** 		     samples_per_frame = 1152;
 163:source\audio/mp3play.c **** 		  } else {
 164:source\audio/mp3play.c **** 		     p = frame_info.nChans == 2 ? 17 : 9;
 165:source\audio/mp3play.c **** 		     samples_per_frame = 576;
 166:source\audio/mp3play.c **** 		  }
 167:source\audio/mp3play.c **** 		  p += offset + 4;
 168:source\audio/mp3play.c **** 		  fxing = (MP3_FrameXing *)(buf + p);
 169:source\audio/mp3play.c **** 		  if (strncmp("Xing",(char *)fxing->id,4) == 0 || strncmp("Info",(char *)fxing->id,4) == 0) {
 170:source\audio/mp3play.c **** 		     if (fxing->flags[3] & 0x01) {
 171:source\audio/mp3play.c **** 		        totframes = ((unsigned int)fxing->frames[0] << 24) | ((unsigned int)fxing->frames[1] << 1
 172:source\audio/mp3play.c **** 			pctrl->totsec = totframes * samples_per_frame / frame_info.samprate;
 173:source\audio/mp3play.c **** 		     } else {
 174:source\audio/mp3play.c **** 			pctrl->totsec = fmp3->fsize / (frame_info.bitrate / 8);
 175:source\audio/mp3play.c **** 		     }
 176:source\audio/mp3play.c **** 		  } else {
 177:source\audio/mp3play.c **** 		     pctrl->totsec = fmp3->fsize / (frame_info.bitrate / 8);
 178:source\audio/mp3play.c **** 		  }
 179:source\audio/mp3play.c **** 	       }
 180:source\audio/mp3play.c **** 	       pctrl->bitrate = frame_info.bitrate;
 181:source\audio/mp3play.c **** 	       mp3ctrl->samplerate = frame_info.samprate;
 182:source\audio/mp3play.c **** 	       if (frame_info.nChans == 2) mp3ctrl->outsamples = frame_info.outputSamps;else mp3ctrl->outs
 183:source\audio/mp3play.c **** 	    } else res = 0xFE;
 184:source\audio/mp3play.c **** 	    MP3FreeDecoder(decoder);
 185:source\audio/mp3play.c ****          }
 186:source\audio/mp3play.c **** 	 f_close(fmp3);
 187:source\audio/mp3play.c ****       } else res= 0xFF;
 188:source\audio/mp3play.c ****       free(fmp3);
 189:source\audio/mp3play.c ****       free(buf);
 190:source\audio/mp3play.c ****       return res;
 191:source\audio/mp3play.c **** }
 192:source\audio/mp3play.c **** 
 193:source\audio/mp3play.c **** 
 194:source\audio/mp3play.c **** void mp3_get_curtime (FIL *fx,__mp3ctrl *mp3x)
 195:source\audio/mp3play.c **** {
 196:source\audio/mp3play.c ****       unsigned int fpos = 0;
 197:source\audio/mp3play.c ****       if (fx->fptr>mp3x->datastart) fpos = fx->fptr-mp3x->datastart;
 198:source\audio/mp3play.c ****       mp3x->cursec = fpos * mp3x->totsec / (fx->fsize-mp3x->datastart);
 199:source\audio/mp3play.c **** }
 200:source\audio/mp3play.c **** 
 201:source\audio/mp3play.c **** 
 202:source\audio/mp3play.c **** unsigned int mp3_file_seek (unsigned int pos)
 203:source\audio/mp3play.c **** {
 130              		.loc 1 203 1 is_stmt 1 view -0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 0
 133              		@ frame_needed = 0, uses_anonymous_args = 0
 204:source\audio/mp3play.c ****       if (pos > audiodev.file->fsize) {
 134              		.loc 1 204 7 view .LVU35
 203:source\audio/mp3play.c ****       if (pos > audiodev.file->fsize) {
 135              		.loc 1 203 1 is_stmt 0 view .LVU36
 136 0000 10B5     		push	{r4, lr}
 137              		.cfi_def_cfa_offset 8
 138              		.cfi_offset 4, -8
 139              		.cfi_offset 14, -4
 140              		.loc 1 204 25 view .LVU37
 141 0002 074C     		ldr	r4, .L11
 142 0004 E368     		ldr	r3, [r4, #12]	@ unaligned
 143              	.LVL7:
 205:source\audio/mp3play.c **** 	 pos = audiodev.file->fsize;
 206:source\audio/mp3play.c ****       }
 207:source\audio/mp3play.c ****       f_lseek(audiodev.file,pos);
 144              		.loc 1 207 7 is_stmt 1 view .LVU38
 145 0006 D3F80C12 		ldr	r1, [r3, #524]
 146 000a 8142     		cmp	r1, r0
 147 000c 28BF     		it	cs
 148 000e 0146     		movcs	r1, r0
 149 0010 1846     		mov	r0, r3
 150              	.LVL8:
 151              		.loc 1 207 7 is_stmt 0 view .LVU39
 152 0012 FFF7FEFF 		bl	f_lseek
 153              	.LVL9:
 208:source\audio/mp3play.c ****       return audiodev.file->fptr;
 154              		.loc 1 208 7 is_stmt 1 view .LVU40
 155              		.loc 1 208 22 is_stmt 0 view .LVU41
 156 0016 E368     		ldr	r3, [r4, #12]	@ unaligned
 209:source\audio/mp3play.c **** }
 157              		.loc 1 209 1 view .LVU42
 158 0018 D3F80802 		ldr	r0, [r3, #520]
 159 001c 10BD     		pop	{r4, pc}
 160              	.L12:
 161 001e 00BF     		.align	2
 162              	.L11:
 163 0020 00000000 		.word	audiodev
 164              		.cfi_endproc
 165              	.LFE136:
 167              		.section	.text.mp3_fill_buffer,"ax",%progbits
 168              		.align	1
 169              		.global	mp3_fill_buffer
 170              		.syntax unified
 171              		.thumb
 172              		.thumb_func
 174              	mp3_fill_buffer:
 175              	.LVL10:
 176              	.LFB130:
  33:source\audio/mp3play.c ****       unsigned short i;
 177              		.loc 1 33 1 is_stmt 1 view -0
 178              		.cfi_startproc
 179              		@ args = 0, pretend = 0, frame = 0
 180              		@ frame_needed = 0, uses_anonymous_args = 0
  34:source\audio/mp3play.c ****       unsigned short *p;
 181              		.loc 1 34 7 view .LVU44
  35:source\audio/mp3play.c ****       while ((mp3transferend == 0) && (audio_pause == 0)){
 182              		.loc 1 35 7 view .LVU45
  36:source\audio/mp3play.c ****             if (tick) {
 183              		.loc 1 36 7 view .LVU46
  33:source\audio/mp3play.c ****       unsigned short i;
 184              		.loc 1 33 1 is_stmt 0 view .LVU47
 185 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 186              		.cfi_def_cfa_offset 24
 187              		.cfi_offset 4, -24
 188              		.cfi_offset 5, -20
 189              		.cfi_offset 6, -16
 190              		.cfi_offset 7, -12
 191              		.cfi_offset 8, -8
 192              		.cfi_offset 14, -4
  36:source\audio/mp3play.c ****             if (tick) {
 193              		.loc 1 36 30 view .LVU48
 194 0004 1C4D     		ldr	r5, .L29
  36:source\audio/mp3play.c ****             if (tick) {
 195              		.loc 1 36 52 view .LVU49
 196 0006 DFF88080 		ldr	r8, .L29+16
  33:source\audio/mp3play.c ****       unsigned short i;
 197              		.loc 1 33 1 view .LVU50
 198 000a 0446     		mov	r4, r0
 199 000c 0E46     		mov	r6, r1
 200 000e 1746     		mov	r7, r2
 201              	.LVL11:
 202              	.L14:
  37:source\audio/mp3play.c ****                tick = 0;
 203              		.loc 1 37 17 view .LVU51
 204 0010 1A4A     		ldr	r2, .L29+4
 205              	.L15:
  36:source\audio/mp3play.c ****             if (tick) {
 206              		.loc 1 36 13 is_stmt 1 view .LVU52
  36:source\audio/mp3play.c ****             if (tick) {
 207              		.loc 1 36 30 is_stmt 0 view .LVU53
 208 0012 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
  36:source\audio/mp3play.c ****             if (tick) {
 209              		.loc 1 36 13 view .LVU54
 210 0014 23B9     		cbnz	r3, .L16
  36:source\audio/mp3play.c ****             if (tick) {
 211              		.loc 1 36 52 discriminator 1 view .LVU55
 212 0016 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
  36:source\audio/mp3play.c ****             if (tick) {
 213              		.loc 1 36 36 discriminator 1 view .LVU56
 214 001a 03F0FF01 		and	r1, r3, #255
 215 001e C3B1     		cbz	r3, .L17
 216              	.L16:
  42:source\audio/mp3play.c ****       if (mp3witchbuf == 0) {
 217              		.loc 1 42 7 is_stmt 1 view .LVU57
  43:source\audio/mp3play.c **** 	 //p = (unsigned short *)audiodev.i2sbuf1;	// POINTER
 218              		.loc 1 43 23 is_stmt 0 view .LVU58
 219 0020 174A     		ldr	r2, .L29+8
  42:source\audio/mp3play.c ****       if (mp3witchbuf == 0) {
 220              		.loc 1 42 22 view .LVU59
 221 0022 0023     		movs	r3, #0
 222 0024 2B70     		strb	r3, [r5]
  43:source\audio/mp3play.c **** 	 //p = (unsigned short *)audiodev.i2sbuf1;	// POINTER
 223              		.loc 1 43 7 is_stmt 1 view .LVU60
  43:source\audio/mp3play.c **** 	 //p = (unsigned short *)audiodev.i2sbuf1;	// POINTER
 224              		.loc 1 43 23 is_stmt 0 view .LVU61
 225 0026 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
  45:source\audio/mp3play.c ****       } else {
 226              		.loc 1 45 5 view .LVU62
 227 0028 164A     		ldr	r2, .L29+12
 228 002a 1568     		ldr	r5, [r2]	@ unaligned
  48:source\audio/mp3play.c ****       }
 229              		.loc 1 48 5 view .LVU63
 230 002c 5268     		ldr	r2, [r2, #4]	@ unaligned
 231 002e 9942     		cmp	r1, r3
 232 0030 18BF     		it	ne
 233 0032 1546     		movne	r5, r2
 234              	.LVL12:
  50:source\audio/mp3play.c ****          for (i=0;i<size;i++) p[i] = buf[i];
 235              		.loc 1 50 7 is_stmt 1 view .LVU64
  50:source\audio/mp3play.c ****          for (i=0;i<size;i++) p[i] = buf[i];
 236              		.loc 1 50 10 is_stmt 0 view .LVU65
 237 0034 022F     		cmp	r7, #2
 238 0036 19D0     		beq	.L19
 239 0038 023C     		subs	r4, r4, #2
 240              	.LVL13:
  55:source\audio/mp3play.c ****          }
 241              		.loc 1 55 27 view .LVU66
 242 003a A91C     		adds	r1, r5, #2
 243              	.LVL14:
 244              	.L20:
  53:source\audio/mp3play.c ****              p[2 * i] = buf[i];
 245              		.loc 1 53 19 is_stmt 1 discriminator 1 view .LVU67
  53:source\audio/mp3play.c ****              p[2 * i] = buf[i];
 246              		.loc 1 53 10 is_stmt 0 discriminator 1 view .LVU68
 247 003c 9AB2     		uxth	r2, r3
 248 003e 9642     		cmp	r6, r2
 249 0040 17D9     		bls	.L13
  54:source\audio/mp3play.c ****              p[2 * i + 1] = buf[i];
 250              		.loc 1 54 14 is_stmt 1 discriminator 3 view .LVU69
  54:source\audio/mp3play.c ****              p[2 * i + 1] = buf[i];
 251              		.loc 1 54 28 is_stmt 0 discriminator 3 view .LVU70
 252 0042 34F8022F 		ldrh	r2, [r4, #2]!
  54:source\audio/mp3play.c ****              p[2 * i + 1] = buf[i];
 253              		.loc 1 54 23 discriminator 3 view .LVU71
 254 0046 25F82320 		strh	r2, [r5, r3, lsl #2]	@ movhi
  55:source\audio/mp3play.c ****          }
 255              		.loc 1 55 14 is_stmt 1 discriminator 3 view .LVU72
  55:source\audio/mp3play.c ****          }
 256              		.loc 1 55 27 is_stmt 0 discriminator 3 view .LVU73
 257 004a 21F82320 		strh	r2, [r1, r3, lsl #2]	@ movhi
  53:source\audio/mp3play.c ****              p[2 * i] = buf[i];
 258              		.loc 1 53 26 is_stmt 1 discriminator 3 view .LVU74
 259              	.LVL15:
  53:source\audio/mp3play.c ****              p[2 * i] = buf[i];
 260              		.loc 1 53 26 is_stmt 0 discriminator 3 view .LVU75
 261 004e 0133     		adds	r3, r3, #1
 262              	.LVL16:
  53:source\audio/mp3play.c ****              p[2 * i] = buf[i];
 263              		.loc 1 53 26 discriminator 3 view .LVU76
 264 0050 F4E7     		b	.L20
 265              	.LVL17:
 266              	.L17:
  37:source\audio/mp3play.c ****                tick = 0;
 267              		.loc 1 37 13 is_stmt 1 view .LVU77
  37:source\audio/mp3play.c ****                tick = 0;
 268              		.loc 1 37 17 is_stmt 0 view .LVU78
 269 0052 1388     		ldrh	r3, [r2]
 270 0054 9BB2     		uxth	r3, r3
  37:source\audio/mp3play.c ****                tick = 0;
 271              		.loc 1 37 16 view .LVU79
 272 0056 002B     		cmp	r3, #0
 273 0058 DBD0     		beq	.L15
  38:source\audio/mp3play.c ****                tick_process();
 274              		.loc 1 38 16 is_stmt 1 view .LVU80
  38:source\audio/mp3play.c ****                tick_process();
 275              		.loc 1 38 21 is_stmt 0 view .LVU81
 276 005a 1180     		strh	r1, [r2]	@ movhi
  39:source\audio/mp3play.c ****             }
 277              		.loc 1 39 16 is_stmt 1 view .LVU82
 278 005c FFF7FEFF 		bl	tick_process
 279              	.LVL18:
 280 0060 D6E7     		b	.L14
 281              	.LVL19:
 282              	.L21:
  51:source\audio/mp3play.c ****       } else {
 283              		.loc 1 51 31 discriminator 3 view .LVU83
  51:source\audio/mp3play.c ****       } else {
 284              		.loc 1 51 41 is_stmt 0 discriminator 3 view .LVU84
 285 0062 34F81320 		ldrh	r2, [r4, r3, lsl #1]
  51:source\audio/mp3play.c ****       } else {
 286              		.loc 1 51 36 discriminator 3 view .LVU85
 287 0066 25F81320 		strh	r2, [r5, r3, lsl #1]	@ movhi
  51:source\audio/mp3play.c ****       } else {
 288              		.loc 1 51 26 is_stmt 1 discriminator 3 view .LVU86
 289              	.LVL20:
  51:source\audio/mp3play.c ****       } else {
 290              		.loc 1 51 26 is_stmt 0 discriminator 3 view .LVU87
 291 006a 0133     		adds	r3, r3, #1
 292              	.LVL21:
 293              	.L19:
  51:source\audio/mp3play.c ****       } else {
 294              		.loc 1 51 19 is_stmt 1 discriminator 1 view .LVU88
  51:source\audio/mp3play.c ****       } else {
 295              		.loc 1 51 10 is_stmt 0 discriminator 1 view .LVU89
 296 006c 9AB2     		uxth	r2, r3
 297 006e 9642     		cmp	r6, r2
 298 0070 F7D8     		bhi	.L21
 299              	.LVL22:
 300              	.L13:
  58:source\audio/mp3play.c **** 
 301              		.loc 1 58 1 view .LVU90
 302 0072 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 303              	.LVL23:
 304              	.L30:
  58:source\audio/mp3play.c **** 
 305              		.loc 1 58 1 view .LVU91
 306 0076 00BF     		.align	2
 307              	.L29:
 308 0078 00000000 		.word	.LANCHOR1
 309 007c 00000000 		.word	tick
 310 0080 00000000 		.word	.LANCHOR0
 311 0084 00000000 		.word	audiodev
 312 0088 00000000 		.word	audio_pause
 313              		.cfi_endproc
 314              	.LFE130:
 316              		.section	.rodata.mp3_id3v1_decode.str1.1,"aMS",%progbits,1
 317              	.LC0:
 318 0000 54414700 		.ascii	"TAG\000"
 319              		.section	.text.mp3_id3v1_decode,"ax",%progbits
 320              		.align	1
 321              		.global	mp3_id3v1_decode
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 326              	mp3_id3v1_decode:
 327              	.LVL24:
 328              	.LFB132:
  80:source\audio/mp3play.c ****       ID3V1_Tag *id3v1tag;
 329              		.loc 1 80 1 is_stmt 1 view -0
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 0
 332              		@ frame_needed = 0, uses_anonymous_args = 0
  81:source\audio/mp3play.c ****       id3v1tag = (ID3V1_Tag *)buf;
 333              		.loc 1 81 7 view .LVU93
  82:source\audio/mp3play.c ****       if (strncmp("TAG",(char *)id3v1tag->id,3) == 0) {
 334              		.loc 1 82 7 view .LVU94
  83:source\audio/mp3play.c ****          if (id3v1tag->title[0]) strncpy((char *)pctrl->title,(char *)id3v1tag->title,30);
 335              		.loc 1 83 7 view .LVU95
  80:source\audio/mp3play.c ****       ID3V1_Tag *id3v1tag;
 336              		.loc 1 80 1 is_stmt 0 view .LVU96
 337 0000 38B5     		push	{r3, r4, r5, lr}
 338              		.cfi_def_cfa_offset 16
 339              		.cfi_offset 3, -16
 340              		.cfi_offset 4, -12
 341              		.cfi_offset 5, -8
 342              		.cfi_offset 14, -4
  83:source\audio/mp3play.c ****          if (id3v1tag->title[0]) strncpy((char *)pctrl->title,(char *)id3v1tag->title,30);
 343              		.loc 1 83 11 view .LVU97
 344 0002 0322     		movs	r2, #3
  80:source\audio/mp3play.c ****       ID3V1_Tag *id3v1tag;
 345              		.loc 1 80 1 view .LVU98
 346 0004 0446     		mov	r4, r0
 347 0006 0D46     		mov	r5, r1
  83:source\audio/mp3play.c ****          if (id3v1tag->title[0]) strncpy((char *)pctrl->title,(char *)id3v1tag->title,30);
 348              		.loc 1 83 11 view .LVU99
 349 0008 0146     		mov	r1, r0
 350              	.LVL25:
  83:source\audio/mp3play.c ****          if (id3v1tag->title[0]) strncpy((char *)pctrl->title,(char *)id3v1tag->title,30);
 351              		.loc 1 83 11 view .LVU100
 352 000a 0C48     		ldr	r0, .L41
 353              	.LVL26:
  83:source\audio/mp3play.c ****          if (id3v1tag->title[0]) strncpy((char *)pctrl->title,(char *)id3v1tag->title,30);
 354              		.loc 1 83 11 view .LVU101
 355 000c FFF7FEFF 		bl	strncmp
 356              	.LVL27:
  83:source\audio/mp3play.c ****          if (id3v1tag->title[0]) strncpy((char *)pctrl->title,(char *)id3v1tag->title,30);
 357              		.loc 1 83 10 view .LVU102
 358 0010 90B9     		cbnz	r0, .L34
 359              	.LVL28:
 360              	.LBB4:
 361              	.LBI4:
  79:source\audio/mp3play.c **** {
 362              		.loc 1 79 15 is_stmt 1 view .LVU103
 363              	.LBB5:
  84:source\audio/mp3play.c ****          if (id3v1tag->artist[0]) strncpy((char *)pctrl->artist,(char *)id3v1tag->artist,30);
 364              		.loc 1 84 10 view .LVU104
  84:source\audio/mp3play.c ****          if (id3v1tag->artist[0]) strncpy((char *)pctrl->artist,(char *)id3v1tag->artist,30);
 365              		.loc 1 84 13 is_stmt 0 view .LVU105
 366 0012 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 367 0014 23B1     		cbz	r3, .L33
  84:source\audio/mp3play.c ****          if (id3v1tag->artist[0]) strncpy((char *)pctrl->artist,(char *)id3v1tag->artist,30);
 368              		.loc 1 84 34 is_stmt 1 view .LVU106
 369 0016 1E22     		movs	r2, #30
 370 0018 E11C     		adds	r1, r4, #3
 371 001a 2846     		mov	r0, r5
 372 001c FFF7FEFF 		bl	strncpy
 373              	.LVL29:
 374              	.L33:
  85:source\audio/mp3play.c ****       } else return 1;
 375              		.loc 1 85 10 view .LVU107
  85:source\audio/mp3play.c ****       } else return 1;
 376              		.loc 1 85 30 is_stmt 0 view .LVU108
 377 0020 94F82100 		ldrb	r0, [r4, #33]	@ zero_extendqisi2
  85:source\audio/mp3play.c ****       } else return 1;
 378              		.loc 1 85 13 view .LVU109
 379 0024 38B1     		cbz	r0, .L32
  85:source\audio/mp3play.c ****       } else return 1;
 380              		.loc 1 85 35 is_stmt 1 view .LVU110
 381 0026 1E22     		movs	r2, #30
 382 0028 04F12101 		add	r1, r4, #33
 383 002c 05F12800 		add	r0, r5, #40
 384 0030 FFF7FEFF 		bl	strncpy
 385              	.LVL30:
 386 0034 0020     		movs	r0, #0
 387              	.LVL31:
 388              	.L32:
  85:source\audio/mp3play.c ****       } else return 1;
 389              		.loc 1 85 35 is_stmt 0 view .LVU111
 390              	.LBE5:
 391              	.LBE4:
  88:source\audio/mp3play.c **** 
 392              		.loc 1 88 1 view .LVU112
 393 0036 38BD     		pop	{r3, r4, r5, pc}
 394              	.LVL32:
 395              	.L34:
  86:source\audio/mp3play.c ****       return 0;
 396              		.loc 1 86 21 view .LVU113
 397 0038 0120     		movs	r0, #1
 398 003a FCE7     		b	.L32
 399              	.L42:
 400              		.align	2
 401              	.L41:
 402 003c 00000000 		.word	.LC0
 403              		.cfi_endproc
 404              	.LFE132:
 406              		.section	.rodata.mp3_id3v2_decode.str1.1,"aMS",%progbits,1
 407              	.LC1:
 408 0000 49443300 		.ascii	"ID3\000"
 409              	.LC2:
 410 0004 6E6F7420 		.ascii	"not supported mversion! \000"
 410      73757070 
 410      6F727465 
 410      64206D76 
 410      65727369 
 411              	.LC3:
 412 001d 54543200 		.ascii	"TT2\000"
 413              	.LC4:
 414 0021 54495432 		.ascii	"TIT2\000"
 414      00
 415              	.LC5:
 416 0026 54503100 		.ascii	"TP1\000"
 417              	.LC6:
 418 002a 54504531 		.ascii	"TPE1\000"
 418      00
 419              		.section	.text.mp3_id3v2_decode,"ax",%progbits
 420              		.align	1
 421              		.global	mp3_id3v2_decode
 422              		.syntax unified
 423              		.thumb
 424              		.thumb_func
 426              	mp3_id3v2_decode:
 427              	.LVL33:
 428              	.LFB133:
  92:source\audio/mp3play.c ****       ID3V2_TagHead *taghead;
 429              		.loc 1 92 1 is_stmt 1 view -0
 430              		.cfi_startproc
 431              		@ args = 0, pretend = 0, frame = 8
 432              		@ frame_needed = 0, uses_anonymous_args = 0
  93:source\audio/mp3play.c ****       ID3V23_FrameHead *framehead;
 433              		.loc 1 93 7 view .LVU115
  94:source\audio/mp3play.c ****       unsigned int t;
 434              		.loc 1 94 7 view .LVU116
  95:source\audio/mp3play.c ****       unsigned int tagsize;
 435              		.loc 1 95 7 view .LVU117
  96:source\audio/mp3play.c ****       unsigned int frame_size;
 436              		.loc 1 96 7 view .LVU118
  97:source\audio/mp3play.c ****       taghead = (ID3V2_TagHead *)buf;
 437              		.loc 1 97 7 view .LVU119
  98:source\audio/mp3play.c ****       if (strncmp("ID3",(const char *)taghead->id,3) == 0) {
 438              		.loc 1 98 7 view .LVU120
  99:source\audio/mp3play.c **** 	 tagsize = ((unsigned int)taghead->size[0] << 21) | ((unsigned int)taghead->size[1] << 14) | ((uns
 439              		.loc 1 99 7 view .LVU121
  92:source\audio/mp3play.c ****       ID3V2_TagHead *taghead;
 440              		.loc 1 92 1 is_stmt 0 view .LVU122
 441 0000 2DE9F74F 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 442              		.cfi_def_cfa_offset 48
 443              		.cfi_offset 4, -36
 444              		.cfi_offset 5, -32
 445              		.cfi_offset 6, -28
 446              		.cfi_offset 7, -24
 447              		.cfi_offset 8, -20
 448              		.cfi_offset 9, -16
 449              		.cfi_offset 10, -12
 450              		.cfi_offset 11, -8
 451              		.cfi_offset 14, -4
  92:source\audio/mp3play.c ****       ID3V2_TagHead *taghead;
 452              		.loc 1 92 1 view .LVU123
 453 0004 0446     		mov	r4, r0
 454 0006 8846     		mov	r8, r1
 455 0008 1546     		mov	r5, r2
  99:source\audio/mp3play.c **** 	 tagsize = ((unsigned int)taghead->size[0] << 21) | ((unsigned int)taghead->size[1] << 14) | ((uns
 456              		.loc 1 99 11 view .LVU124
 457 000a 0146     		mov	r1, r0
 458              	.LVL34:
  99:source\audio/mp3play.c **** 	 tagsize = ((unsigned int)taghead->size[0] << 21) | ((unsigned int)taghead->size[1] << 14) | ((uns
 459              		.loc 1 99 11 view .LVU125
 460 000c 0322     		movs	r2, #3
 461              	.LVL35:
  99:source\audio/mp3play.c **** 	 tagsize = ((unsigned int)taghead->size[0] << 21) | ((unsigned int)taghead->size[1] << 14) | ((uns
 462              		.loc 1 99 11 view .LVU126
 463 000e 3648     		ldr	r0, .L59
 464              	.LVL36:
  99:source\audio/mp3play.c **** 	 tagsize = ((unsigned int)taghead->size[0] << 21) | ((unsigned int)taghead->size[1] << 14) | ((uns
 465              		.loc 1 99 11 view .LVU127
 466 0010 FFF7FEFF 		bl	strncmp
 467              	.LVL37:
  99:source\audio/mp3play.c **** 	 tagsize = ((unsigned int)taghead->size[0] << 21) | ((unsigned int)taghead->size[1] << 14) | ((uns
 468              		.loc 1 99 10 view .LVU128
 469 0014 0028     		cmp	r0, #0
 470 0016 5CD1     		bne	.L44
 471              	.LVL38:
 472              	.LBB8:
 473              	.LBI8:
  91:source\audio/mp3play.c **** {
 474              		.loc 1 91 15 is_stmt 1 view .LVU129
 475              	.LBB9:
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 476              		.loc 1 100 3 view .LVU130
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 477              		.loc 1 100 55 is_stmt 0 view .LVU131
 478 0018 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 479              		.loc 1 100 14 view .LVU132
 480 001a A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 481              		.loc 1 100 96 view .LVU133
 482 001c 217A     		ldrb	r1, [r4, #8]	@ zero_extendqisi2
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 483              		.loc 1 100 86 view .LVU134
 484 001e 9B03     		lsls	r3, r3, #14
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 485              		.loc 1 100 52 view .LVU135
 486 0020 43EA4253 		orr	r3, r3, r2, lsl #21
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 487              		.loc 1 100 150 view .LVU136
 488 0024 627A     		ldrb	r2, [r4, #9]	@ zero_extendqisi2
 100:source\audio/mp3play.c **** 	 pctrl->datastart = tagsize;
 489              		.loc 1 100 11 view .LVU137
 490 0026 1343     		orrs	r3, r3, r2
 491 0028 43EAC113 		orr	r3, r3, r1, lsl #7
 492              	.LVL39:
 101:source\audio/mp3play.c **** 	 if (tagsize > size) tagsize = size;
 493              		.loc 1 101 3 is_stmt 1 view .LVU138
 494 002c 9845     		cmp	r8, r3
 101:source\audio/mp3play.c **** 	 if (tagsize > size) tagsize = size;
 495              		.loc 1 101 20 is_stmt 0 view .LVU139
 496 002e C5F86230 		str	r3, [r5, #98]	@ unaligned
 102:source\audio/mp3play.c **** 	 if (taghead->mversion < 3) {
 497              		.loc 1 102 3 is_stmt 1 view .LVU140
 498 0032 28BF     		it	cs
 499 0034 9846     		movcs	r8, r3
 500              	.LVL40:
 103:source\audio/mp3play.c **** 	    lcd_printf(0,29,"not supported mversion! ");
 501              		.loc 1 103 6 is_stmt 0 view .LVU141
 502 0036 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 503              	.LVL41:
 103:source\audio/mp3play.c **** 	    lcd_printf(0,29,"not supported mversion! ");
 504              		.loc 1 103 6 view .LVU142
 505 0038 CDF80480 		str	r8, [sp, #4]
 506              	.LVL42:
 103:source\audio/mp3play.c **** 	    lcd_printf(0,29,"not supported mversion! ");
 507              		.loc 1 103 3 is_stmt 1 view .LVU143
 103:source\audio/mp3play.c **** 	    lcd_printf(0,29,"not supported mversion! ");
 508              		.loc 1 103 6 is_stmt 0 view .LVU144
 509 003c 022B     		cmp	r3, #2
 510 003e 40D8     		bhi	.L52
 104:source\audio/mp3play.c **** 	    return 1;
 511              		.loc 1 104 6 is_stmt 1 view .LVU145
 512 0040 2A4A     		ldr	r2, .L59+4
 513 0042 1D21     		movs	r1, #29
 514 0044 FFF7FEFF 		bl	lcd_printf
 515              	.LVL43:
 105:source\audio/mp3play.c **** 	 }
 516              		.loc 1 105 6 view .LVU146
 105:source\audio/mp3play.c **** 	 }
 517              		.loc 1 105 13 is_stmt 0 view .LVU147
 518 0048 0120     		movs	r0, #1
 519              	.LVL44:
 520              	.L46:
 105:source\audio/mp3play.c **** 	 }
 521              		.loc 1 105 13 view .LVU148
 522              	.LBE9:
 523              	.LBE8:
 121:source\audio/mp3play.c **** 
 524              		.loc 1 121 1 view .LVU149
 525 004a 03B0     		add	sp, sp, #12
 526              		.cfi_remember_state
 527              		.cfi_def_cfa_offset 36
 528              		@ sp needed
 529 004c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 530              	.LVL45:
 531              	.L51:
 532              		.cfi_restore_state
 533              	.LBB11:
 534              	.LBB10:
 109:source\audio/mp3play.c **** 	       frame_size = ((unsigned int)framehead->size[0] << 24) | ((unsigned int)framehead->size[1] <
 535              		.loc 1 109 9 is_stmt 1 view .LVU150
 109:source\audio/mp3play.c **** 	       frame_size = ((unsigned int)framehead->size[0] << 24) | ((unsigned int)framehead->size[1] <
 536              		.loc 1 109 19 is_stmt 0 view .LVU151
 537 0050 04EB0708 		add	r8, r4, r7
 538              	.LVL46:
 110:source\audio/mp3play.c **** 	       if (strncmp("TT2",(char *)framehead->id,3) == 0 || strncmp("TIT2",(char *)framehead->id,4) 
 539              		.loc 1 110 9 is_stmt 1 view .LVU152
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 540              		.loc 1 111 13 is_stmt 0 view .LVU153
 541 0054 0322     		movs	r2, #3
 542 0056 D8F80460 		ldr	r6, [r8, #4]	@ unaligned
 543 005a 4146     		mov	r1, r8
 544 005c 4846     		mov	r0, r9
 545 005e 36BA     		rev	r6, r6
 546              	.LVL47:
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 547              		.loc 1 111 9 is_stmt 1 view .LVU154
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 548              		.loc 1 111 13 is_stmt 0 view .LVU155
 549 0060 FFF7FEFF 		bl	strncmp
 550              	.LVL48:
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 551              		.loc 1 111 12 view .LVU156
 552 0064 28B1     		cbz	r0, .L47
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 553              		.loc 1 111 60 view .LVU157
 554 0066 0422     		movs	r2, #4
 555 0068 4146     		mov	r1, r8
 556 006a 5046     		mov	r0, r10
 557 006c FFF7FEFF 		bl	strncmp
 558              	.LVL49:
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 559              		.loc 1 111 57 view .LVU158
 560 0070 48B9     		cbnz	r0, .L48
 561              	.L47:
 112:source\audio/mp3play.c **** 	       }
 562              		.loc 1 112 12 is_stmt 1 view .LVU159
 112:source\audio/mp3play.c **** 	       }
 563              		.loc 1 112 90 is_stmt 0 view .LVU160
 564 0072 721E     		subs	r2, r6, #1
 112:source\audio/mp3play.c **** 	       }
 565              		.loc 1 112 85 view .LVU161
 566 0074 07F10B01 		add	r1, r7, #11
 112:source\audio/mp3play.c **** 	       }
 567              		.loc 1 112 12 view .LVU162
 568 0078 272A     		cmp	r2, #39
 569 007a 28BF     		it	cs
 570 007c 2722     		movcs	r2, #39
 571 007e 2144     		add	r1, r1, r4
 572 0080 2846     		mov	r0, r5
 573 0082 FFF7FEFF 		bl	strncpy
 574              	.LVL50:
 575              	.L48:
 114:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->artist,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN
 576              		.loc 1 114 9 is_stmt 1 view .LVU163
 114:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->artist,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN
 577              		.loc 1 114 13 is_stmt 0 view .LVU164
 578 0086 0322     		movs	r2, #3
 579 0088 4146     		mov	r1, r8
 580 008a 5846     		mov	r0, fp
 581 008c FFF7FEFF 		bl	strncmp
 582              	.LVL51:
 114:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->artist,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN
 583              		.loc 1 114 12 view .LVU165
 584 0090 28B1     		cbz	r0, .L49
 114:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->artist,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN
 585              		.loc 1 114 59 view .LVU166
 586 0092 1748     		ldr	r0, .L59+8
 587 0094 0422     		movs	r2, #4
 588 0096 4146     		mov	r1, r8
 589 0098 FFF7FEFF 		bl	strncmp
 590              	.LVL52:
 114:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->artist,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN
 591              		.loc 1 114 56 view .LVU167
 592 009c 50B9     		cbnz	r0, .L50
 593              	.L49:
 115:source\audio/mp3play.c **** 	       }
 594              		.loc 1 115 12 is_stmt 1 view .LVU168
 115:source\audio/mp3play.c **** 	       }
 595              		.loc 1 115 91 is_stmt 0 view .LVU169
 596 009e 721E     		subs	r2, r6, #1
 115:source\audio/mp3play.c **** 	       }
 597              		.loc 1 115 86 view .LVU170
 598 00a0 07F10B01 		add	r1, r7, #11
 115:source\audio/mp3play.c **** 	       }
 599              		.loc 1 115 12 view .LVU171
 600 00a4 272A     		cmp	r2, #39
 601 00a6 28BF     		it	cs
 602 00a8 2722     		movcs	r2, #39
 603 00aa 2144     		add	r1, r1, r4
 604 00ac 05F12800 		add	r0, r5, #40
 605 00b0 FFF7FEFF 		bl	strncpy
 606              	.LVL53:
 607              	.L50:
 117:source\audio/mp3play.c **** 	 }
 608              		.loc 1 117 9 is_stmt 1 view .LVU172
 117:source\audio/mp3play.c **** 	 }
 609              		.loc 1 117 11 is_stmt 0 view .LVU173
 610 00b4 0A36     		adds	r6, r6, #10
 611 00b6 3744     		add	r7, r7, r6
 612              	.LVL54:
 613              	.L45:
 108:source\audio/mp3play.c **** 	       framehead = (ID3V23_FrameHead *)(buf + t);
 614              		.loc 1 108 9 is_stmt 1 view .LVU174
 615 00b8 019B     		ldr	r3, [sp, #4]
 616 00ba BB42     		cmp	r3, r7
 617 00bc C8D8     		bhi	.L51
 120:source\audio/mp3play.c **** }
 618              		.loc 1 120 14 is_stmt 0 view .LVU175
 619 00be 0020     		movs	r0, #0
 620 00c0 C3E7     		b	.L46
 621              	.LVL55:
 622              	.L52:
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 623              		.loc 1 111 13 view .LVU176
 624 00c2 DFF83090 		ldr	r9, .L59+12
 111:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->title,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN(
 625              		.loc 1 111 60 view .LVU177
 626 00c6 DFF830A0 		ldr	r10, .L59+16
 114:source\audio/mp3play.c **** 	          strncpy((char *)pctrl->artist,(char *)(buf + t + sizeof(ID3V23_FrameHead) + 1),AUDIO_MIN
 627              		.loc 1 114 13 view .LVU178
 628 00ca DFF830B0 		ldr	fp, .L59+20
 107:source\audio/mp3play.c **** 	 while (t < tagsize) {
 629              		.loc 1 107 5 view .LVU179
 630 00ce 0A27     		movs	r7, #10
 631 00d0 F2E7     		b	.L45
 632              	.LVL56:
 633              	.L44:
 107:source\audio/mp3play.c **** 	 while (t < tagsize) {
 634              		.loc 1 107 5 view .LVU180
 635              	.LBE10:
 636              	.LBE11:
 119:source\audio/mp3play.c ****       return 0;
 637              		.loc 1 119 14 is_stmt 1 view .LVU181
 119:source\audio/mp3play.c ****       return 0;
 638              		.loc 1 119 31 is_stmt 0 view .LVU182
 639 00d2 0020     		movs	r0, #0
 640 00d4 85F86200 		strb	r0, [r5, #98]
 641 00d8 85F86300 		strb	r0, [r5, #99]
 642 00dc 85F86400 		strb	r0, [r5, #100]
 643 00e0 85F86500 		strb	r0, [r5, #101]
 644 00e4 B1E7     		b	.L46
 645              	.L60:
 646 00e6 00BF     		.align	2
 647              	.L59:
 648 00e8 00000000 		.word	.LC1
 649 00ec 04000000 		.word	.LC2
 650 00f0 2A000000 		.word	.LC6
 651 00f4 1D000000 		.word	.LC3
 652 00f8 21000000 		.word	.LC4
 653 00fc 26000000 		.word	.LC5
 654              		.cfi_endproc
 655              	.LFE133:
 657              		.section	.rodata.mp3_get_info.str1.1,"aMS",%progbits,1
 658              	.LC7:
 659 0000 56425249 		.ascii	"VBRI\000"
 659      00
 660              	.LC8:
 661 0005 58696E67 		.ascii	"Xing\000"
 661      00
 662              	.LC9:
 663 000a 496E666F 		.ascii	"Info\000"
 663      00
 664              		.section	.text.mp3_get_info,"ax",%progbits
 665              		.align	1
 666              		.global	mp3_get_info
 667              		.syntax unified
 668              		.thumb
 669              		.thumb_func
 671              	mp3_get_info:
 672              	.LVL57:
 673              	.LFB134:
 125:source\audio/mp3play.c ****       HMP3Decoder decoder;
 674              		.loc 1 125 1 is_stmt 1 view -0
 675              		.cfi_startproc
 676              		@ args = 0, pretend = 0, frame = 40
 677              		@ frame_needed = 0, uses_anonymous_args = 0
 126:source\audio/mp3play.c ****       MP3FrameInfo frame_info;
 678              		.loc 1 126 7 view .LVU184
 127:source\audio/mp3play.c ****       MP3_FrameXing *fxing;
 679              		.loc 1 127 7 view .LVU185
 128:source\audio/mp3play.c ****       MP3_FrameVBRI *fvbri;
 680              		.loc 1 128 7 view .LVU186
 129:source\audio/mp3play.c ****       FIL *fmp3;
 681              		.loc 1 129 7 view .LVU187
 130:source\audio/mp3play.c ****       unsigned char *buf;
 682              		.loc 1 130 7 view .LVU188
 131:source\audio/mp3play.c ****       unsigned int br;
 683              		.loc 1 131 7 view .LVU189
 132:source\audio/mp3play.c ****       unsigned char res;
 684              		.loc 1 132 7 view .LVU190
 133:source\audio/mp3play.c ****       int offset = 0;
 685              		.loc 1 133 7 view .LVU191
 134:source\audio/mp3play.c ****       unsigned int p;
 686              		.loc 1 134 7 view .LVU192
 135:source\audio/mp3play.c ****       short samples_per_frame;
 687              		.loc 1 135 7 view .LVU193
 136:source\audio/mp3play.c ****       unsigned int totframes;
 688              		.loc 1 136 7 view .LVU194
 137:source\audio/mp3play.c ****       fmp3 = malloc(sizeof(FIL));
 689              		.loc 1 137 7 view .LVU195
 138:source\audio/mp3play.c ****       buf = malloc(5 * 1024);
 690              		.loc 1 138 7 view .LVU196
 125:source\audio/mp3play.c ****       HMP3Decoder decoder;
 691              		.loc 1 125 1 is_stmt 0 view .LVU197
 692 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 693              		.cfi_def_cfa_offset 36
 694              		.cfi_offset 4, -36
 695              		.cfi_offset 5, -32
 696              		.cfi_offset 6, -28
 697              		.cfi_offset 7, -24
 698              		.cfi_offset 8, -20
 699              		.cfi_offset 9, -16
 700              		.cfi_offset 10, -12
 701              		.cfi_offset 11, -8
 702              		.cfi_offset 14, -4
 703 0004 0446     		mov	r4, r0
 704 0006 8BB0     		sub	sp, sp, #44
 705              		.cfi_def_cfa_offset 80
 138:source\audio/mp3play.c ****       buf = malloc(5 * 1024);
 706              		.loc 1 138 14 view .LVU198
 707 0008 4FF40B70 		mov	r0, #556
 708              	.LVL58:
 125:source\audio/mp3play.c ****       HMP3Decoder decoder;
 709              		.loc 1 125 1 view .LVU199
 710 000c 0F46     		mov	r7, r1
 138:source\audio/mp3play.c ****       buf = malloc(5 * 1024);
 711              		.loc 1 138 14 view .LVU200
 712 000e FFF7FEFF 		bl	malloc
 713              	.LVL59:
 138:source\audio/mp3play.c ****       buf = malloc(5 * 1024);
 714              		.loc 1 138 14 view .LVU201
 715 0012 0546     		mov	r5, r0
 716              	.LVL60:
 139:source\audio/mp3play.c ****       if (fmp3 && buf) {
 717              		.loc 1 139 7 is_stmt 1 view .LVU202
 139:source\audio/mp3play.c ****       if (fmp3 && buf) {
 718              		.loc 1 139 13 is_stmt 0 view .LVU203
 719 0014 4FF4A050 		mov	r0, #5120
 720              	.LVL61:
 139:source\audio/mp3play.c ****       if (fmp3 && buf) {
 721              		.loc 1 139 13 view .LVU204
 722 0018 FFF7FEFF 		bl	malloc
 723              	.LVL62:
 724 001c 0646     		mov	r6, r0
 725              	.LVL63:
 140:source\audio/mp3play.c **** 	 f_open(fmp3,(const TCHAR *)pname,FA_READ);
 726              		.loc 1 140 7 is_stmt 1 view .LVU205
 140:source\audio/mp3play.c **** 	 f_open(fmp3,(const TCHAR *)pname,FA_READ);
 727              		.loc 1 140 10 is_stmt 0 view .LVU206
 728 001e 002D     		cmp	r5, #0
 729 0020 00F0B780 		beq	.L79
 140:source\audio/mp3play.c **** 	 f_open(fmp3,(const TCHAR *)pname,FA_READ);
 730              		.loc 1 140 16 discriminator 1 view .LVU207
 731 0024 0028     		cmp	r0, #0
 732 0026 00F0B480 		beq	.L79
 141:source\audio/mp3play.c **** 	 res = f_read(fmp3,(unsigned char *)buf,5 * 1024,&br);
 733              		.loc 1 141 3 is_stmt 1 view .LVU208
 734 002a 0122     		movs	r2, #1
 735 002c 2146     		mov	r1, r4
 736 002e 2846     		mov	r0, r5
 737              	.LVL64:
 141:source\audio/mp3play.c **** 	 res = f_read(fmp3,(unsigned char *)buf,5 * 1024,&br);
 738              		.loc 1 141 3 is_stmt 0 view .LVU209
 739 0030 FFF7FEFF 		bl	f_open
 740              	.LVL65:
 142:source\audio/mp3play.c **** 	 if (res == 0) {
 741              		.loc 1 142 3 is_stmt 1 view .LVU210
 142:source\audio/mp3play.c **** 	 if (res == 0) {
 742              		.loc 1 142 9 is_stmt 0 view .LVU211
 743 0034 02AB     		add	r3, sp, #8
 744 0036 4FF4A052 		mov	r2, #5120
 745 003a 3146     		mov	r1, r6
 746 003c 2846     		mov	r0, r5
 747 003e FFF7FEFF 		bl	f_read
 748              	.LVL66:
 143:source\audio/mp3play.c **** 	    mp3_id3v2_decode(buf,br,pctrl);
 749              		.loc 1 143 3 is_stmt 1 view .LVU212
 143:source\audio/mp3play.c **** 	    mp3_id3v2_decode(buf,br,pctrl);
 750              		.loc 1 143 6 is_stmt 0 view .LVU213
 751 0042 8046     		mov	r8, r0
 752 0044 70BB     		cbnz	r0, .L63
 144:source\audio/mp3play.c **** 	    f_lseek(fmp3,fmp3->fsize - 128);
 753              		.loc 1 144 6 is_stmt 1 view .LVU214
 754 0046 3A46     		mov	r2, r7
 755 0048 0299     		ldr	r1, [sp, #8]
 756 004a 3046     		mov	r0, r6
 757              	.LVL67:
 144:source\audio/mp3play.c **** 	    f_lseek(fmp3,fmp3->fsize - 128);
 758              		.loc 1 144 6 is_stmt 0 view .LVU215
 759 004c FFF7FEFF 		bl	mp3_id3v2_decode
 760              	.LVL68:
 145:source\audio/mp3play.c **** 	    f_read(fmp3,(unsigned char *)buf,128,&br);
 761              		.loc 1 145 6 is_stmt 1 view .LVU216
 762 0050 D5F80C12 		ldr	r1, [r5, #524]
 763 0054 2846     		mov	r0, r5
 764 0056 8039     		subs	r1, r1, #128
 765 0058 FFF7FEFF 		bl	f_lseek
 766              	.LVL69:
 146:source\audio/mp3play.c **** 	    mp3_id3v1_decode(buf,pctrl);
 767              		.loc 1 146 6 view .LVU217
 768 005c 02AB     		add	r3, sp, #8
 769 005e 8022     		movs	r2, #128
 770 0060 3146     		mov	r1, r6
 771 0062 2846     		mov	r0, r5
 772 0064 FFF7FEFF 		bl	f_read
 773              	.LVL70:
 147:source\audio/mp3play.c **** 	    decoder = MP3InitDecoder();
 774              		.loc 1 147 6 view .LVU218
 775 0068 3946     		mov	r1, r7
 776 006a 3046     		mov	r0, r6
 777 006c FFF7FEFF 		bl	mp3_id3v1_decode
 778              	.LVL71:
 148:source\audio/mp3play.c **** 	    f_lseek(fmp3,pctrl->datastart);
 779              		.loc 1 148 6 view .LVU219
 148:source\audio/mp3play.c **** 	    f_lseek(fmp3,pctrl->datastart);
 780              		.loc 1 148 16 is_stmt 0 view .LVU220
 781 0070 FFF7FEFF 		bl	MP3InitDecoder
 782              	.LVL72:
 149:source\audio/mp3play.c **** 	    f_read(fmp3,(unsigned char *)buf,5 * 1024,&br);
 783              		.loc 1 149 6 view .LVU221
 784 0074 D7F86210 		ldr	r1, [r7, #98]	@ unaligned
 148:source\audio/mp3play.c **** 	    f_lseek(fmp3,pctrl->datastart);
 785              		.loc 1 148 16 view .LVU222
 786 0078 8246     		mov	r10, r0
 787              	.LVL73:
 149:source\audio/mp3play.c **** 	    f_read(fmp3,(unsigned char *)buf,5 * 1024,&br);
 788              		.loc 1 149 6 is_stmt 1 view .LVU223
 789 007a 2846     		mov	r0, r5
 790              	.LVL74:
 149:source\audio/mp3play.c **** 	    f_read(fmp3,(unsigned char *)buf,5 * 1024,&br);
 791              		.loc 1 149 6 is_stmt 0 view .LVU224
 792 007c FFF7FEFF 		bl	f_lseek
 793              	.LVL75:
 150:source\audio/mp3play.c ****  	    offset = MP3FindSyncWord(buf,br);
 794              		.loc 1 150 6 is_stmt 1 view .LVU225
 795 0080 02AB     		add	r3, sp, #8
 796 0082 4FF4A052 		mov	r2, #5120
 797 0086 3146     		mov	r1, r6
 798 0088 2846     		mov	r0, r5
 799 008a FFF7FEFF 		bl	f_read
 800              	.LVL76:
 151:source\audio/mp3play.c **** 	    if (offset >= 0 && MP3GetNextFrameInfo(decoder,&frame_info,&buf[offset]) == 0) {
 801              		.loc 1 151 7 view .LVU226
 151:source\audio/mp3play.c **** 	    if (offset >= 0 && MP3GetNextFrameInfo(decoder,&frame_info,&buf[offset]) == 0) {
 802              		.loc 1 151 16 is_stmt 0 view .LVU227
 803 008e 0299     		ldr	r1, [sp, #8]
 804 0090 3046     		mov	r0, r6
 805 0092 FFF7FEFF 		bl	MP3FindSyncWord
 806              	.LVL77:
 152:source\audio/mp3play.c **** 	       p = offset + 4 + 32;
 807              		.loc 1 152 6 is_stmt 1 view .LVU228
 152:source\audio/mp3play.c **** 	       p = offset + 4 + 32;
 808              		.loc 1 152 9 is_stmt 0 view .LVU229
 809 0096 041E     		subs	r4, r0, #0
 810              	.LVL78:
 152:source\audio/mp3play.c **** 	       p = offset + 4 + 32;
 811              		.loc 1 152 9 view .LVU230
 812 0098 11DA     		bge	.L64
 813              	.LVL79:
 814              	.L66:
 183:source\audio/mp3play.c **** 	    MP3FreeDecoder(decoder);
 815              		.loc 1 183 17 view .LVU231
 816 009a 4FF0FE08 		mov	r8, #254
 817              	.LVL80:
 818              	.L65:
 184:source\audio/mp3play.c ****          }
 819              		.loc 1 184 6 is_stmt 1 view .LVU232
 820 009e 5046     		mov	r0, r10
 821 00a0 FFF7FEFF 		bl	MP3FreeDecoder
 822              	.LVL81:
 823              	.L63:
 186:source\audio/mp3play.c ****       } else res= 0xFF;
 824              		.loc 1 186 3 view .LVU233
 825 00a4 2846     		mov	r0, r5
 826 00a6 FFF7FEFF 		bl	f_close
 827              	.LVL82:
 828              	.L62:
 188:source\audio/mp3play.c ****       free(buf);
 829              		.loc 1 188 7 view .LVU234
 830 00aa 2846     		mov	r0, r5
 831 00ac FFF7FEFF 		bl	free
 832              	.LVL83:
 189:source\audio/mp3play.c ****       return res;
 833              		.loc 1 189 7 view .LVU235
 834 00b0 3046     		mov	r0, r6
 835 00b2 FFF7FEFF 		bl	free
 836              	.LVL84:
 190:source\audio/mp3play.c **** }
 837              		.loc 1 190 7 view .LVU236
 191:source\audio/mp3play.c **** 
 838              		.loc 1 191 1 is_stmt 0 view .LVU237
 839 00b6 4046     		mov	r0, r8
 840 00b8 0BB0     		add	sp, sp, #44
 841              		.cfi_remember_state
 842              		.cfi_def_cfa_offset 36
 843              		@ sp needed
 844 00ba BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 845              	.LVL85:
 846              	.L64:
 847              		.cfi_restore_state
 152:source\audio/mp3play.c **** 	       p = offset + 4 + 32;
 848              		.loc 1 152 25 discriminator 1 view .LVU238
 849 00be 3219     		adds	r2, r6, r4
 850 00c0 03A9     		add	r1, sp, #12
 851 00c2 5046     		mov	r0, r10
 852              	.LVL86:
 152:source\audio/mp3play.c **** 	       p = offset + 4 + 32;
 853              		.loc 1 152 25 discriminator 1 view .LVU239
 854 00c4 FFF7FEFF 		bl	MP3GetNextFrameInfo
 855              	.LVL87:
 152:source\audio/mp3play.c **** 	       p = offset + 4 + 32;
 856              		.loc 1 152 22 discriminator 1 view .LVU240
 857 00c8 0028     		cmp	r0, #0
 858 00ca E6D1     		bne	.L66
 153:source\audio/mp3play.c **** 	       fvbri = (MP3_FrameVBRI *)(buf + p);
 859              		.loc 1 153 9 is_stmt 1 view .LVU241
 860              	.LVL88:
 154:source\audio/mp3play.c **** 	       if (strncmp("VBRI",(char *)fvbri->id,4) == 0) {
 861              		.loc 1 154 9 view .LVU242
 153:source\audio/mp3play.c **** 	       fvbri = (MP3_FrameVBRI *)(buf + p);
 862              		.loc 1 153 24 is_stmt 0 view .LVU243
 863 00cc 04F12401 		add	r1, r4, #36
 864              	.LVL89:
 154:source\audio/mp3play.c **** 	       if (strncmp("VBRI",(char *)fvbri->id,4) == 0) {
 865              		.loc 1 154 15 view .LVU244
 866 00d0 3144     		add	r1, r1, r6
 867              	.LVL90:
 155:source\audio/mp3play.c **** 		  if (frame_info.version == MPEG1) samples_per_frame = 1152;else samples_per_frame = 576;
 868              		.loc 1 155 9 is_stmt 1 view .LVU245
 155:source\audio/mp3play.c **** 		  if (frame_info.version == MPEG1) samples_per_frame = 1152;else samples_per_frame = 576;
 869              		.loc 1 155 13 is_stmt 0 view .LVU246
 870 00d2 0422     		movs	r2, #4
 871 00d4 3048     		ldr	r0, .L90
 872 00d6 0091     		str	r1, [sp]
 873 00d8 FFF7FEFF 		bl	strncmp
 874              	.LVL91:
 155:source\audio/mp3play.c **** 		  if (frame_info.version == MPEG1) samples_per_frame = 1152;else samples_per_frame = 576;
 875              		.loc 1 155 13 view .LVU247
 876 00dc DDE904B3 		ldrd	fp, r3, [sp, #16]
 156:source\audio/mp3play.c ****  		  totframes = ((unsigned int)fvbri->frames[0] << 24) | ((unsigned int)fvbri->frames[1] << 16) | 
 877              		.loc 1 156 19 view .LVU248
 878 00e0 099A     		ldr	r2, [sp, #36]
 879 00e2 DDF80C90 		ldr	r9, [sp, #12]
 155:source\audio/mp3play.c **** 		  if (frame_info.version == MPEG1) samples_per_frame = 1152;else samples_per_frame = 576;
 880              		.loc 1 155 12 view .LVU249
 881 00e6 D8B9     		cbnz	r0, .L67
 156:source\audio/mp3play.c ****  		  totframes = ((unsigned int)fvbri->frames[0] << 24) | ((unsigned int)fvbri->frames[1] << 16) | 
 882              		.loc 1 156 5 is_stmt 1 view .LVU250
 883 00e8 0099     		ldr	r1, [sp]
 884 00ea D1F80E10 		ldr	r1, [r1, #14]	@ unaligned
 156:source\audio/mp3play.c ****  		  totframes = ((unsigned int)fvbri->frames[0] << 24) | ((unsigned int)fvbri->frames[1] << 16) | 
 885              		.loc 1 156 86 is_stmt 0 view .LVU251
 886 00ee 002A     		cmp	r2, #0
 887 00f0 0CBF     		ite	eq
 888 00f2 4FF49062 		moveq	r2, #1152
 889 00f6 4FF41072 		movne	r2, #576
 890              	.LVL92:
 157:source\audio/mp3play.c **** 		  pctrl->totsec = totframes * samples_per_frame / frame_info.samprate;
 891              		.loc 1 157 6 is_stmt 1 view .LVU252
 892 00fa 09BA     		rev	r1, r1
 893              	.LVL93:
 158:source\audio/mp3play.c **** 	       } else {
 894              		.loc 1 158 5 view .LVU253
 158:source\audio/mp3play.c **** 	       } else {
 895              		.loc 1 158 31 is_stmt 0 view .LVU254
 896 00fc 4A43     		muls	r2, r1, r2
 897              	.LVL94:
 898              	.L89:
 172:source\audio/mp3play.c **** 		     } else {
 899              		.loc 1 172 50 view .LVU255
 900 00fe B2FBF3F2 		udiv	r2, r2, r3
 901              	.L86:
 177:source\audio/mp3play.c **** 		  }
 902              		.loc 1 177 22 view .LVU256
 903 0102 3A65     		str	r2, [r7, #80]	@ unaligned
 180:source\audio/mp3play.c **** 	       mp3ctrl->samplerate = frame_info.samprate;
 904              		.loc 1 180 9 is_stmt 1 view .LVU257
 181:source\audio/mp3play.c **** 	       if (frame_info.nChans == 2) mp3ctrl->outsamples = frame_info.outputSamps;else mp3ctrl->outs
 905              		.loc 1 181 16 is_stmt 0 view .LVU258
 906 0104 254A     		ldr	r2, .L90+4
 180:source\audio/mp3play.c **** 	       mp3ctrl->samplerate = frame_info.samprate;
 907              		.loc 1 180 24 view .LVU259
 908 0106 C7F85890 		str	r9, [r7, #88]	@ unaligned
 181:source\audio/mp3play.c **** 	       if (frame_info.nChans == 2) mp3ctrl->outsamples = frame_info.outputSamps;else mp3ctrl->outs
 909              		.loc 1 181 9 is_stmt 1 view .LVU260
 181:source\audio/mp3play.c **** 	       if (frame_info.nChans == 2) mp3ctrl->outsamples = frame_info.outputSamps;else mp3ctrl->outs
 910              		.loc 1 181 16 is_stmt 0 view .LVU261
 911 010a 1268     		ldr	r2, [r2]
 181:source\audio/mp3play.c **** 	       if (frame_info.nChans == 2) mp3ctrl->outsamples = frame_info.outputSamps;else mp3ctrl->outs
 912              		.loc 1 181 29 view .LVU262
 913 010c D365     		str	r3, [r2, #92]	@ unaligned
 182:source\audio/mp3play.c **** 	    } else res = 0xFE;
 914              		.loc 1 182 9 is_stmt 1 view .LVU263
 182:source\audio/mp3play.c **** 	    } else res = 0xFE;
 915              		.loc 1 182 57 is_stmt 0 view .LVU264
 916 010e BDF81C30 		ldrh	r3, [sp, #28]
 182:source\audio/mp3play.c **** 	    } else res = 0xFE;
 917              		.loc 1 182 12 view .LVU265
 918 0112 BBF1020F 		cmp	fp, #2
 182:source\audio/mp3play.c **** 	    } else res = 0xFE;
 919              		.loc 1 182 37 is_stmt 1 view .LVU266
 182:source\audio/mp3play.c **** 	    } else res = 0xFE;
 920              		.loc 1 182 87 view .LVU267
 182:source\audio/mp3play.c **** 	    } else res = 0xFE;
 921              		.loc 1 182 107 is_stmt 0 view .LVU268
 922 0116 18BF     		it	ne
 923 0118 5B00     		lslne	r3, r3, #1
 924 011a A2F86030 		strh	r3, [r2, #96]	@ unaligned
 925 011e BEE7     		b	.L65
 926              	.LVL95:
 927              	.L67:
 160:source\audio/mp3play.c **** 		     p = frame_info.nChans == 2 ? 32 : 17;
 928              		.loc 1 160 5 is_stmt 1 view .LVU269
 160:source\audio/mp3play.c **** 		     p = frame_info.nChans == 2 ? 32 : 17;
 929              		.loc 1 160 8 is_stmt 0 view .LVU270
 930 0120 12BB     		cbnz	r2, .L70
 161:source\audio/mp3play.c **** 		     samples_per_frame = 1152;
 931              		.loc 1 161 8 is_stmt 1 view .LVU271
 162:source\audio/mp3play.c **** 		  } else {
 932              		.loc 1 162 26 is_stmt 0 view .LVU272
 933 0122 BBF1020F 		cmp	fp, #2
 934 0126 4FF49062 		mov	r2, #1152
 935 012a 0092     		str	r2, [sp]
 936              	.LVL96:
 162:source\audio/mp3play.c **** 		  } else {
 937              		.loc 1 162 26 view .LVU273
 938 012c 14BF     		ite	ne
 939 012e 1121     		movne	r1, #17
 940 0130 2021     		moveq	r1, #32
 941              	.L71:
 167:source\audio/mp3play.c **** 		  fxing = (MP3_FrameXing *)(buf + p);
 942              		.loc 1 167 7 view .LVU274
 943 0132 0434     		adds	r4, r4, #4
 944              	.LVL97:
 167:source\audio/mp3play.c **** 		  fxing = (MP3_FrameXing *)(buf + p);
 945              		.loc 1 167 7 view .LVU275
 946 0134 0C44     		add	r4, r4, r1
 947              	.LVL98:
 168:source\audio/mp3play.c **** 		  if (strncmp("Xing",(char *)fxing->id,4) == 0 || strncmp("Info",(char *)fxing->id,4) == 0) {
 948              		.loc 1 168 11 view .LVU276
 949 0136 3444     		add	r4, r4, r6
 169:source\audio/mp3play.c **** 		     if (fxing->flags[3] & 0x01) {
 950              		.loc 1 169 9 view .LVU277
 951 0138 1948     		ldr	r0, .L90+8
 952 013a 0193     		str	r3, [sp, #4]
 953              	.LVL99:
 167:source\audio/mp3play.c **** 		  fxing = (MP3_FrameXing *)(buf + p);
 954              		.loc 1 167 5 is_stmt 1 view .LVU278
 168:source\audio/mp3play.c **** 		  if (strncmp("Xing",(char *)fxing->id,4) == 0 || strncmp("Info",(char *)fxing->id,4) == 0) {
 955              		.loc 1 168 5 view .LVU279
 169:source\audio/mp3play.c **** 		     if (fxing->flags[3] & 0x01) {
 956              		.loc 1 169 5 view .LVU280
 169:source\audio/mp3play.c **** 		     if (fxing->flags[3] & 0x01) {
 957              		.loc 1 169 9 is_stmt 0 view .LVU281
 958 013c 0422     		movs	r2, #4
 959 013e 2146     		mov	r1, r4
 960 0140 FFF7FEFF 		bl	strncmp
 961              	.LVL100:
 169:source\audio/mp3play.c **** 		     if (fxing->flags[3] & 0x01) {
 962              		.loc 1 169 8 view .LVU282
 963 0144 019B     		ldr	r3, [sp, #4]
 964 0146 30B1     		cbz	r0, .L72
 169:source\audio/mp3play.c **** 		     if (fxing->flags[3] & 0x01) {
 965              		.loc 1 169 53 discriminator 1 view .LVU283
 966 0148 1648     		ldr	r0, .L90+12
 967 014a 0422     		movs	r2, #4
 968 014c 2146     		mov	r1, r4
 969 014e FFF7FEFF 		bl	strncmp
 970              	.LVL101:
 169:source\audio/mp3play.c **** 		     if (fxing->flags[3] & 0x01) {
 971              		.loc 1 169 50 discriminator 1 view .LVU284
 972 0152 019B     		ldr	r3, [sp, #4]
 973 0154 88B9     		cbnz	r0, .L73
 974              	.L72:
 170:source\audio/mp3play.c **** 		        totframes = ((unsigned int)fxing->frames[0] << 24) | ((unsigned int)fxing->frames[1] << 1
 975              		.loc 1 170 8 is_stmt 1 view .LVU285
 170:source\audio/mp3play.c **** 		        totframes = ((unsigned int)fxing->frames[0] << 24) | ((unsigned int)fxing->frames[1] << 1
 976              		.loc 1 170 11 is_stmt 0 view .LVU286
 977 0156 E279     		ldrb	r2, [r4, #7]	@ zero_extendqisi2
 978 0158 D207     		lsls	r2, r2, #31
 979 015a 0ED5     		bpl	.L73
 171:source\audio/mp3play.c **** 			pctrl->totsec = totframes * samples_per_frame / frame_info.samprate;
 980              		.loc 1 171 11 is_stmt 1 view .LVU287
 981 015c A268     		ldr	r2, [r4, #8]	@ unaligned
 172:source\audio/mp3play.c **** 		     } else {
 982              		.loc 1 172 30 is_stmt 0 view .LVU288
 983 015e 0099     		ldr	r1, [sp]
 984 0160 12BA     		rev	r2, r2
 172:source\audio/mp3play.c **** 		     } else {
 985              		.loc 1 172 4 is_stmt 1 view .LVU289
 172:source\audio/mp3play.c **** 		     } else {
 986              		.loc 1 172 30 is_stmt 0 view .LVU290
 987 0162 5143     		muls	r1, r2, r1
 988 0164 0A46     		mov	r2, r1
 989 0166 CAE7     		b	.L89
 990              	.LVL102:
 991              	.L70:
 164:source\audio/mp3play.c **** 		     samples_per_frame = 576;
 992              		.loc 1 164 8 is_stmt 1 view .LVU291
 165:source\audio/mp3play.c **** 		  }
 993              		.loc 1 165 26 is_stmt 0 view .LVU292
 994 0168 BBF1020F 		cmp	fp, #2
 995 016c 4FF41072 		mov	r2, #576
 996 0170 0092     		str	r2, [sp]
 997              	.LVL103:
 165:source\audio/mp3play.c **** 		  }
 998              		.loc 1 165 26 view .LVU293
 999 0172 14BF     		ite	ne
 1000 0174 0921     		movne	r1, #9
 1001 0176 1121     		moveq	r1, #17
 1002 0178 DBE7     		b	.L71
 1003              	.LVL104:
 1004              	.L73:
 177:source\audio/mp3play.c **** 		  }
 1005              		.loc 1 177 8 is_stmt 1 view .LVU294
 177:source\audio/mp3play.c **** 		  }
 1006              		.loc 1 177 58 is_stmt 0 view .LVU295
 1007 017a B9F1000F 		cmp	r9, #0
 1008 017e 4A46     		mov	r2, r9
 1009 0180 B8BF     		it	lt
 1010 0182 09F10702 		addlt	r2, r9, #7
 177:source\audio/mp3play.c **** 		  }
 1011              		.loc 1 177 36 view .LVU296
 1012 0186 D5F80C12 		ldr	r1, [r5, #524]
 177:source\audio/mp3play.c **** 		  }
 1013              		.loc 1 177 58 view .LVU297
 1014 018a D210     		asrs	r2, r2, #3
 177:source\audio/mp3play.c **** 		  }
 1015              		.loc 1 177 36 view .LVU298
 1016 018c B1FBF2F2 		udiv	r2, r1, r2
 1017 0190 B7E7     		b	.L86
 1018              	.LVL105:
 1019              	.L79:
 187:source\audio/mp3play.c ****       free(fmp3);
 1020              		.loc 1 187 17 view .LVU299
 1021 0192 4FF0FF08 		mov	r8, #255
 1022 0196 88E7     		b	.L62
 1023              	.L91:
 1024              		.align	2
 1025              	.L90:
 1026 0198 00000000 		.word	.LC7
 1027 019c 00000000 		.word	.LANCHOR2
 1028 01a0 05000000 		.word	.LC8
 1029 01a4 0A000000 		.word	.LC9
 1030              		.cfi_endproc
 1031              	.LFE134:
 1033              		.section	.text.mp3_get_curtime,"ax",%progbits
 1034              		.align	1
 1035              		.global	mp3_get_curtime
 1036              		.syntax unified
 1037              		.thumb
 1038              		.thumb_func
 1040              	mp3_get_curtime:
 1041              	.LVL106:
 1042              	.LFB135:
 195:source\audio/mp3play.c ****       unsigned int fpos = 0;
 1043              		.loc 1 195 1 is_stmt 1 view -0
 1044              		.cfi_startproc
 1045              		@ args = 0, pretend = 0, frame = 0
 1046              		@ frame_needed = 0, uses_anonymous_args = 0
 196:source\audio/mp3play.c ****       if (fx->fptr>mp3x->datastart) fpos = fx->fptr-mp3x->datastart;
 1047              		.loc 1 196 7 view .LVU301
 197:source\audio/mp3play.c ****       mp3x->cursec = fpos * mp3x->totsec / (fx->fsize-mp3x->datastart);
 1048              		.loc 1 197 7 view .LVU302
 197:source\audio/mp3play.c ****       mp3x->cursec = fpos * mp3x->totsec / (fx->fsize-mp3x->datastart);
 1049              		.loc 1 197 13 is_stmt 0 view .LVU303
 1050 0000 D0F80822 		ldr	r2, [r0, #520]
 198:source\audio/mp3play.c **** }
 1051              		.loc 1 198 33 view .LVU304
 1052 0004 0B6D     		ldr	r3, [r1, #80]	@ unaligned
 195:source\audio/mp3play.c ****       unsigned int fpos = 0;
 1053              		.loc 1 195 1 view .LVU305
 1054 0006 10B5     		push	{r4, lr}
 1055              		.cfi_def_cfa_offset 8
 1056              		.cfi_offset 4, -8
 1057              		.cfi_offset 14, -4
 197:source\audio/mp3play.c ****       mp3x->cursec = fpos * mp3x->totsec / (fx->fsize-mp3x->datastart);
 1058              		.loc 1 197 24 view .LVU306
 1059 0008 D1F86240 		ldr	r4, [r1, #98]	@ unaligned
 197:source\audio/mp3play.c ****       mp3x->cursec = fpos * mp3x->totsec / (fx->fsize-mp3x->datastart);
 1060              		.loc 1 197 10 view .LVU307
 1061 000c A242     		cmp	r2, r4
 197:source\audio/mp3play.c ****       mp3x->cursec = fpos * mp3x->totsec / (fx->fsize-mp3x->datastart);
 1062              		.loc 1 197 37 is_stmt 1 view .LVU308
 197:source\audio/mp3play.c ****       mp3x->cursec = fpos * mp3x->totsec / (fx->fsize-mp3x->datastart);
 1063              		.loc 1 197 42 is_stmt 0 view .LVU309
 1064 000e 8CBF     		ite	hi
 1065 0010 121B     		subhi	r2, r2, r4
 1066              	.LVL107:
 196:source\audio/mp3play.c ****       if (fx->fptr>mp3x->datastart) fpos = fx->fptr-mp3x->datastart;
 1067              		.loc 1 196 20 view .LVU310
 1068 0012 0022     		movls	r2, #0
 1069              	.LVL108:
 198:source\audio/mp3play.c **** }
 1070              		.loc 1 198 7 is_stmt 1 view .LVU311
 198:source\audio/mp3play.c **** }
 1071              		.loc 1 198 27 is_stmt 0 view .LVU312
 1072 0014 5343     		muls	r3, r2, r3
 198:source\audio/mp3play.c **** }
 1073              		.loc 1 198 54 view .LVU313
 1074 0016 D0F80C22 		ldr	r2, [r0, #524]
 1075              	.LVL109:
 198:source\audio/mp3play.c **** }
 1076              		.loc 1 198 54 view .LVU314
 1077 001a 121B     		subs	r2, r2, r4
 198:source\audio/mp3play.c **** }
 1078              		.loc 1 198 42 view .LVU315
 1079 001c B3FBF2F3 		udiv	r3, r3, r2
 198:source\audio/mp3play.c **** }
 1080              		.loc 1 198 20 view .LVU316
 1081 0020 4B65     		str	r3, [r1, #84]	@ unaligned
 199:source\audio/mp3play.c **** 
 1082              		.loc 1 199 1 view .LVU317
 1083 0022 10BD     		pop	{r4, pc}
 199:source\audio/mp3play.c **** 
 1084              		.loc 1 199 1 view .LVU318
 1085              		.cfi_endproc
 1086              	.LFE135:
 1088              		.section	.text.mp3_stop,"ax",%progbits
 1089              		.align	1
 1090              		.global	mp3_stop
 1091              		.syntax unified
 1092              		.thumb
 1093              		.thumb_func
 1095              	mp3_stop:
 1096              	.LFB137:
 210:source\audio/mp3play.c **** 
 211:source\audio/mp3play.c **** 
 212:source\audio/mp3play.c **** void mp3_stop (void)
 213:source\audio/mp3play.c **** {
 1097              		.loc 1 213 1 is_stmt 1 view -0
 1098              		.cfi_startproc
 1099              		@ args = 0, pretend = 0, frame = 0
 1100              		@ frame_needed = 0, uses_anonymous_args = 0
 214:source\audio/mp3play.c ****       audio_stop();
 1101              		.loc 1 214 7 view .LVU320
 213:source\audio/mp3play.c ****       audio_stop();
 1102              		.loc 1 213 1 is_stmt 0 view .LVU321
 1103 0000 10B5     		push	{r4, lr}
 1104              		.cfi_def_cfa_offset 8
 1105              		.cfi_offset 4, -8
 1106              		.cfi_offset 14, -4
 215:source\audio/mp3play.c ****       f_close(audiodev.file);
 1107              		.loc 1 215 7 view .LVU322
 1108 0002 174C     		ldr	r4, .L96
 214:source\audio/mp3play.c ****       audio_stop();
 1109              		.loc 1 214 7 view .LVU323
 1110 0004 FFF7FEFF 		bl	audio_stop
 1111              	.LVL110:
 1112              		.loc 1 215 7 is_stmt 1 view .LVU324
 1113 0008 E068     		ldr	r0, [r4, #12]	@ unaligned
 1114 000a FFF7FEFF 		bl	f_close
 1115              	.LVL111:
 216:source\audio/mp3play.c ****       MP3FreeDecoder(mp3decoder);
 1116              		.loc 1 216 7 view .LVU325
 1117 000e 154B     		ldr	r3, .L96+4
 1118 0010 1868     		ldr	r0, [r3]
 1119 0012 FFF7FEFF 		bl	MP3FreeDecoder
 1120              	.LVL112:
 217:source\audio/mp3play.c ****       free(mp3ctrl);
 1121              		.loc 1 217 7 view .LVU326
 1122 0016 144B     		ldr	r3, .L96+8
 1123 0018 1868     		ldr	r0, [r3]
 1124 001a FFF7FEFF 		bl	free
 1125              	.LVL113:
 218:source\audio/mp3play.c ****       free(mp3_buffer);
 1126              		.loc 1 218 7 view .LVU327
 1127 001e 134B     		ldr	r3, .L96+12
 1128 0020 1868     		ldr	r0, [r3]
 1129 0022 FFF7FEFF 		bl	free
 1130              	.LVL114:
 219:source\audio/mp3play.c ****       free(audiodev.file);
 1131              		.loc 1 219 7 view .LVU328
 1132 0026 E068     		ldr	r0, [r4, #12]	@ unaligned
 1133 0028 FFF7FEFF 		bl	free
 1134              	.LVL115:
 220:source\audio/mp3play.c ****       free(audiodev.i2sbuf1);
 1135              		.loc 1 220 7 view .LVU329
 1136 002c 2068     		ldr	r0, [r4]	@ unaligned
 1137 002e FFF7FEFF 		bl	free
 1138              	.LVL116:
 221:source\audio/mp3play.c ****       free(audiodev.i2sbuf2);
 1139              		.loc 1 221 7 view .LVU330
 1140 0032 6068     		ldr	r0, [r4, #4]	@ unaligned
 1141 0034 FFF7FEFF 		bl	free
 1142              	.LVL117:
 222:source\audio/mp3play.c ****       free(audiodev.tbuf);
 1143              		.loc 1 222 7 view .LVU331
 1144 0038 A068     		ldr	r0, [r4, #8]	@ unaligned
 1145 003a FFF7FEFF 		bl	free
 1146              	.LVL118:
 223:source\audio/mp3play.c ****       audio_run = 0;
 1147              		.loc 1 223 7 view .LVU332
 1148              		.loc 1 223 17 is_stmt 0 view .LVU333
 1149 003e 0C4A     		ldr	r2, .L96+16
 1150 0040 0023     		movs	r3, #0
 1151 0042 1370     		strb	r3, [r2]
 224:source\audio/mp3play.c ****       audio_decode_flag = 0;
 1152              		.loc 1 224 7 is_stmt 1 view .LVU334
 1153              		.loc 1 224 25 is_stmt 0 view .LVU335
 1154 0044 0B4A     		ldr	r2, .L96+20
 1155 0046 1370     		strb	r3, [r2]
 225:source\audio/mp3play.c ****       audio_read_flag = 0;
 1156              		.loc 1 225 7 is_stmt 1 view .LVU336
 1157              		.loc 1 225 23 is_stmt 0 view .LVU337
 1158 0048 0B4A     		ldr	r2, .L96+24
 1159 004a 1370     		strb	r3, [r2]
 226:source\audio/mp3play.c ****       audio_pause = 0;
 1160              		.loc 1 226 7 is_stmt 1 view .LVU338
 1161              		.loc 1 226 19 is_stmt 0 view .LVU339
 1162 004c 0B4A     		ldr	r2, .L96+28
 1163 004e 1370     		strb	r3, [r2]
 227:source\audio/mp3play.c ****       audio_play_function = NULL;
 1164              		.loc 1 227 7 is_stmt 1 view .LVU340
 1165              		.loc 1 227 27 is_stmt 0 view .LVU341
 1166 0050 0B4A     		ldr	r2, .L96+32
 1167 0052 1360     		str	r3, [r2]
 228:source\audio/mp3play.c ****       audio_stop_function = NULL;
 1168              		.loc 1 228 7 is_stmt 1 view .LVU342
 1169              		.loc 1 228 27 is_stmt 0 view .LVU343
 1170 0054 0B4A     		ldr	r2, .L96+36
 1171 0056 1360     		str	r3, [r2]
 229:source\audio/mp3play.c ****       music_play = 1;
 1172              		.loc 1 229 7 is_stmt 1 view .LVU344
 1173              		.loc 1 229 18 is_stmt 0 view .LVU345
 1174 0058 0B4B     		ldr	r3, .L96+40
 1175 005a 0122     		movs	r2, #1
 1176 005c 1A70     		strb	r2, [r3]
 230:source\audio/mp3play.c **** }
 1177              		.loc 1 230 1 view .LVU346
 1178 005e 10BD     		pop	{r4, pc}
 1179              	.L97:
 1180              		.align	2
 1181              	.L96:
 1182 0060 00000000 		.word	audiodev
 1183 0064 00000000 		.word	.LANCHOR3
 1184 0068 00000000 		.word	.LANCHOR2
 1185 006c 00000000 		.word	.LANCHOR4
 1186 0070 00000000 		.word	audio_run
 1187 0074 00000000 		.word	audio_decode_flag
 1188 0078 00000000 		.word	audio_read_flag
 1189 007c 00000000 		.word	audio_pause
 1190 0080 00000000 		.word	audio_play_function
 1191 0084 00000000 		.word	audio_stop_function
 1192 0088 00000000 		.word	music_play
 1193              		.cfi_endproc
 1194              	.LFE137:
 1196              		.section	.rodata.mp3_play_song.str1.1,"aMS",%progbits,1
 1197              	.LC10:
 1198 0000 46696C65 		.ascii	"File: %s \000"
 1198      3A202573 
 1198      2000
 1199              	.LC11:
 1200 000a 41727469 		.ascii	"Artist: %s \000"
 1200      73743A20 
 1200      25732000 
 1201              	.LC12:
 1202 0016 566F6C75 		.ascii	"Volume: %2d \000"
 1202      6D653A20 
 1202      25326420 
 1202      00
 1203              		.section	.text.mp3_play_song,"ax",%progbits
 1204              		.align	1
 1205              		.global	mp3_play_song
 1206              		.syntax unified
 1207              		.thumb
 1208              		.thumb_func
 1210              	mp3_play_song:
 1211              	.LVL119:
 1212              	.LFB138:
 231:source\audio/mp3play.c **** 
 232:source\audio/mp3play.c **** 
 233:source\audio/mp3play.c **** unsigned char mp3_play_song (unsigned char *fname)
 234:source\audio/mp3play.c **** {
 1213              		.loc 1 234 1 is_stmt 1 view -0
 1214              		.cfi_startproc
 1215              		@ args = 0, pretend = 0, frame = 16
 1216              		@ frame_needed = 0, uses_anonymous_args = 0
 235:source\audio/mp3play.c ****       unsigned char res;
 1217              		.loc 1 235 7 view .LVU348
 236:source\audio/mp3play.c ****       mp3decoder = 0;
 1218              		.loc 1 236 7 view .LVU349
 237:source\audio/mp3play.c ****       mp3_offset = 0;
 1219              		.loc 1 237 18 is_stmt 0 view .LVU350
 1220 0000 C84B     		ldr	r3, .L121
 234:source\audio/mp3play.c ****       unsigned char res;
 1221              		.loc 1 234 1 view .LVU351
 1222 0002 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1223              		.cfi_def_cfa_offset 36
 1224              		.cfi_offset 4, -36
 1225              		.cfi_offset 5, -32
 1226              		.cfi_offset 6, -28
 1227              		.cfi_offset 7, -24
 1228              		.cfi_offset 8, -20
 1229              		.cfi_offset 9, -16
 1230              		.cfi_offset 10, -12
 1231              		.cfi_offset 11, -8
 1232              		.cfi_offset 14, -4
 236:source\audio/mp3play.c ****       mp3decoder = 0;
 1233              		.loc 1 236 18 view .LVU352
 1234 0006 0025     		movs	r5, #0
 1235              		.loc 1 237 18 view .LVU353
 1236 0008 1D60     		str	r5, [r3]
 238:source\audio/mp3play.c ****       mp3_outofdata = 0;
 1237              		.loc 1 238 21 view .LVU354
 1238 000a C74B     		ldr	r3, .L121+4
 236:source\audio/mp3play.c ****       mp3_offset = 0;
 1239              		.loc 1 236 18 view .LVU355
 1240 000c DFF85483 		ldr	r8, .L121+64
 1241              		.loc 1 238 21 view .LVU356
 1242 0010 1D60     		str	r5, [r3]
 239:source\audio/mp3play.c ****       mp3_bytesleft = 0;
 1243              		.loc 1 239 21 view .LVU357
 1244 0012 C64B     		ldr	r3, .L121+8
 236:source\audio/mp3play.c ****       mp3_offset = 0;
 1245              		.loc 1 236 18 view .LVU358
 1246 0014 C8F80050 		str	r5, [r8]
 237:source\audio/mp3play.c ****       mp3_outofdata = 0;
 1247              		.loc 1 237 7 is_stmt 1 view .LVU359
 238:source\audio/mp3play.c ****       mp3_bytesleft = 0;
 1248              		.loc 1 238 7 view .LVU360
 1249              		.loc 1 239 7 view .LVU361
 1250              		.loc 1 239 21 is_stmt 0 view .LVU362
 1251 0018 1D60     		str	r5, [r3]
 240:source\audio/mp3play.c ****       audio_br = 0;
 1252              		.loc 1 240 7 is_stmt 1 view .LVU363
 1253              		.loc 1 240 16 is_stmt 0 view .LVU364
 1254 001a C54B     		ldr	r3, .L121+12
 241:source\audio/mp3play.c ****       mp3ctrl = malloc(sizeof(__mp3ctrl));
 1255              		.loc 1 241 15 view .LVU365
 1256 001c C54F     		ldr	r7, .L121+16
 240:source\audio/mp3play.c ****       audio_br = 0;
 1257              		.loc 1 240 16 view .LVU366
 1258 001e 1D60     		str	r5, [r3]
 1259              		.loc 1 241 7 is_stmt 1 view .LVU367
 234:source\audio/mp3play.c ****       unsigned char res;
 1260              		.loc 1 234 1 is_stmt 0 view .LVU368
 1261 0020 85B0     		sub	sp, sp, #20
 1262              		.cfi_def_cfa_offset 56
 234:source\audio/mp3play.c ****       unsigned char res;
 1263              		.loc 1 234 1 view .LVU369
 1264 0022 8146     		mov	r9, r0
 1265              		.loc 1 241 17 view .LVU370
 1266 0024 6620     		movs	r0, #102
 1267              	.LVL120:
 1268              		.loc 1 241 17 view .LVU371
 1269 0026 FFF7FEFF 		bl	malloc
 1270              	.LVL121:
 1271              		.loc 1 241 15 view .LVU372
 1272 002a 3860     		str	r0, [r7]
 242:source\audio/mp3play.c ****       mp3_buffer = malloc(MP3_FILE_BUF_SZ);
 1273              		.loc 1 242 7 is_stmt 1 view .LVU373
 241:source\audio/mp3play.c ****       mp3ctrl = malloc(sizeof(__mp3ctrl));
 1274              		.loc 1 241 17 is_stmt 0 view .LVU374
 1275 002c 0646     		mov	r6, r0
 1276              		.loc 1 242 20 view .LVU375
 1277 002e 4FF4A050 		mov	r0, #5120
 1278 0032 FFF7FEFF 		bl	malloc
 1279              	.LVL122:
 1280              		.loc 1 242 18 view .LVU376
 1281 0036 C04B     		ldr	r3, .L121+20
 1282 0038 0290     		str	r0, [sp, #8]
 243:source\audio/mp3play.c ****       audiodev.file = (FIL *)malloc(sizeof(FIL));
 1283              		.loc 1 243 7 is_stmt 1 view .LVU377
 242:source\audio/mp3play.c ****       mp3_buffer = malloc(MP3_FILE_BUF_SZ);
 1284              		.loc 1 242 18 is_stmt 0 view .LVU378
 1285 003a 1860     		str	r0, [r3]
 1286              		.loc 1 243 30 view .LVU379
 1287 003c 4FF40B70 		mov	r0, #556
 1288 0040 FFF7FEFF 		bl	malloc
 1289              	.LVL123:
 1290              		.loc 1 243 21 view .LVU380
 1291 0044 BD4C     		ldr	r4, .L121+24
 1292 0046 0190     		str	r0, [sp, #4]
 244:source\audio/mp3play.c ****       audiodev.i2sbuf1 = malloc(2304 * 2);
 1293              		.loc 1 244 7 is_stmt 1 view .LVU381
 243:source\audio/mp3play.c ****       audiodev.file = (FIL *)malloc(sizeof(FIL));
 1294              		.loc 1 243 21 is_stmt 0 view .LVU382
 1295 0048 E060     		str	r0, [r4, #12]	@ unaligned
 1296              		.loc 1 244 26 view .LVU383
 1297 004a 4FF49050 		mov	r0, #4608
 1298 004e FFF7FEFF 		bl	malloc
 1299              	.LVL124:
 1300              		.loc 1 244 24 view .LVU384
 1301 0052 2060     		str	r0, [r4]	@ unaligned
 245:source\audio/mp3play.c ****       audiodev.i2sbuf2 = malloc(2304 * 2);
 1302              		.loc 1 245 7 is_stmt 1 view .LVU385
 244:source\audio/mp3play.c ****       audiodev.i2sbuf1 = malloc(2304 * 2);
 1303              		.loc 1 244 26 is_stmt 0 view .LVU386
 1304 0054 8346     		mov	fp, r0
 1305              		.loc 1 245 26 view .LVU387
 1306 0056 4FF49050 		mov	r0, #4608
 1307 005a FFF7FEFF 		bl	malloc
 1308              	.LVL125:
 1309              		.loc 1 245 24 view .LVU388
 1310 005e 6060     		str	r0, [r4, #4]	@ unaligned
 246:source\audio/mp3play.c ****       audiodev.tbuf = malloc(2304 * 2);
 1311              		.loc 1 246 7 is_stmt 1 view .LVU389
 245:source\audio/mp3play.c ****       audiodev.i2sbuf2 = malloc(2304 * 2);
 1312              		.loc 1 245 26 is_stmt 0 view .LVU390
 1313 0060 8246     		mov	r10, r0
 1314              		.loc 1 246 23 view .LVU391
 1315 0062 4FF49050 		mov	r0, #4608
 1316 0066 FFF7FEFF 		bl	malloc
 1317              	.LVL126:
 1318 006a 0346     		mov	r3, r0
 1319              		.loc 1 246 21 view .LVU392
 1320 006c A060     		str	r0, [r4, #8]	@ unaligned
 247:source\audio/mp3play.c ****       audiodev.file_seek = mp3_file_seek;
 1321              		.loc 1 247 7 is_stmt 1 view .LVU393
 1322              		.loc 1 247 26 is_stmt 0 view .LVU394
 1323 006e B448     		ldr	r0, .L121+28
 1324 0070 2061     		str	r0, [r4, #16]	@ unaligned
 248:source\audio/mp3play.c ****       if (!mp3ctrl || !mp3_buffer || !audiodev.file || !audiodev.i2sbuf1 || !audiodev.i2sbuf2 || !a
 1325              		.loc 1 248 7 is_stmt 1 view .LVU395
 1326              		.loc 1 248 10 is_stmt 0 view .LVU396
 1327 0072 DDE90121 		ldrd	r2, r1, [sp, #4]
 1328 0076 46B1     		cbz	r6, .L99
 1329              		.loc 1 248 20 discriminator 1 view .LVU397
 1330 0078 39B1     		cbz	r1, .L99
 1331              		.loc 1 248 35 discriminator 2 view .LVU398
 1332 007a 32B1     		cbz	r2, .L99
 1333              		.loc 1 248 53 discriminator 3 view .LVU399
 1334 007c BBF1000F 		cmp	fp, #0
 1335 0080 03D0     		beq	.L99
 1336              		.loc 1 248 74 discriminator 4 view .LVU400
 1337 0082 BAF1000F 		cmp	r10, #0
 1338 0086 00D0     		beq	.L99
 1339              		.loc 1 248 95 discriminator 5 view .LVU401
 1340 0088 E3B9     		cbnz	r3, .L100
 1341              	.L99:
 249:source\audio/mp3play.c **** 	 free(mp3ctrl);
 1342              		.loc 1 249 3 view .LVU402
 1343 008a 3046     		mov	r0, r6
 1344 008c CDE90223 		strd	r2, r3, [sp, #8]
 1345 0090 0191     		str	r1, [sp, #4]
 1346              		.loc 1 249 3 is_stmt 1 view .LVU403
 1347 0092 FFF7FEFF 		bl	free
 1348              	.LVL127:
 250:source\audio/mp3play.c **** 	 free(mp3_buffer);
 1349              		.loc 1 250 3 view .LVU404
 1350 0096 0199     		ldr	r1, [sp, #4]
 1351 0098 0846     		mov	r0, r1
 1352 009a FFF7FEFF 		bl	free
 1353              	.LVL128:
 251:source\audio/mp3play.c **** 	 free(audiodev.file);
 1354              		.loc 1 251 3 view .LVU405
 1355 009e 029A     		ldr	r2, [sp, #8]
 1356 00a0 1046     		mov	r0, r2
 1357 00a2 FFF7FEFF 		bl	free
 1358              	.LVL129:
 252:source\audio/mp3play.c **** 	 free(audiodev.i2sbuf1);
 1359              		.loc 1 252 3 view .LVU406
 1360 00a6 5846     		mov	r0, fp
 1361 00a8 FFF7FEFF 		bl	free
 1362              	.LVL130:
 253:source\audio/mp3play.c **** 	 free(audiodev.i2sbuf2);
 1363              		.loc 1 253 3 view .LVU407
 1364 00ac 5046     		mov	r0, r10
 1365 00ae FFF7FEFF 		bl	free
 1366              	.LVL131:
 254:source\audio/mp3play.c **** 	 free(audiodev.tbuf);
 1367              		.loc 1 254 3 view .LVU408
 1368 00b2 039B     		ldr	r3, [sp, #12]
 1369 00b4 1846     		mov	r0, r3
 1370 00b6 FFF7FEFF 		bl	free
 1371              	.LVL132:
 255:source\audio/mp3play.c **** 	 return 1;
 1372              		.loc 1 255 3 view .LVU409
 1373              		.loc 1 255 10 is_stmt 0 view .LVU410
 1374 00ba 0125     		movs	r5, #1
 1375              	.L101:
 256:source\audio/mp3play.c ****       }
 257:source\audio/mp3play.c ****       memset(audiodev.i2sbuf1,0,2304 * 2);
 258:source\audio/mp3play.c ****       memset(audiodev.i2sbuf2,0,2304 * 2);
 259:source\audio/mp3play.c ****       memset(mp3ctrl,0,sizeof(__mp3ctrl));
 260:source\audio/mp3play.c ****       res = mp3_get_info(fname,mp3ctrl);
 261:source\audio/mp3play.c ****       if (res == 0) {
 262:source\audio/mp3play.c ****       /*
 263:source\audio/mp3play.c ****       	 lcd_printf(0,20,"File: %s ",fname);
 264:source\audio/mp3play.c ****          lcd_printf(0,22,"Title: %s ",mp3ctrl->title);
 265:source\audio/mp3play.c ****          lcd_printf(0,24,"Artist: %s ",mp3ctrl->artist);
 266:source\audio/mp3play.c ****          lcd_printf(0,26,"Bitrate: %d bps ",mp3ctrl->bitrate);
 267:source\audio/mp3play.c ****          lcd_printf(0,27,"Samplerate: %d ", mp3ctrl->samplerate);
 268:source\audio/mp3play.c ****          lcd_printf(0,28,"Time: %2d:%.2d ",mp3ctrl->totsec / 60,mp3ctrl->totsec % 60);
 269:source\audio/mp3play.c ****          lcd_printf(20,28,"Volume: %2d ",volume);
 270:source\audio/mp3play.c **** 	 */
 271:source\audio/mp3play.c **** 	 lcd_printf(0,20,"File: %s ",fname);
 272:source\audio/mp3play.c **** 	 lcd_printf(0,21,"Artist: %s ",mp3ctrl->artist);
 273:source\audio/mp3play.c ****          lcd_printf(20,22,"Volume: %2d ",volume);
 274:source\audio/mp3play.c **** 	 //set_color(GREEN);
 275:source\audio/mp3play.c **** 	 
 276:source\audio/mp3play.c **** 	 LCD_Draw_Circle (46, 420, 46); //circle 1 : 
 277:source\audio/mp3play.c **** 	 LCD_Draw_Circle (141, 420, 46);//circle 2 : /
 278:source\audio/mp3play.c **** 	 LCD_Draw_Circle (236, 420, 46);//circle 3 : 
 279:source\audio/mp3play.c **** 	 LCD_DrawRectangle(285,380,315,410); // rectangle 1 : up
 280:source\audio/mp3play.c **** 	 LCD_DrawLine (290, 395, 310, 395);
 281:source\audio/mp3play.c **** 	 LCD_DrawLine (300, 385, 300, 405);
 282:source\audio/mp3play.c **** 	 LCD_DrawRectangle(285,430,315,460); // rectangle 2 : down
 283:source\audio/mp3play.c **** 	 LCD_DrawLine (290, 445, 310, 445);
 284:source\audio/mp3play.c **** 	 
 285:source\audio/mp3play.c **** 	 LCD_DrawLine (44, 409, 20, 419);
 286:source\audio/mp3play.c **** 	 LCD_DrawLine (20, 419, 44, 429);
 287:source\audio/mp3play.c **** 	 LCD_DrawLine (44, 429, 44, 409);
 288:source\audio/mp3play.c **** 	 LCD_DrawLine (70, 409, 46, 419);
 289:source\audio/mp3play.c **** 	 LCD_DrawLine (46, 419, 70, 429);
 290:source\audio/mp3play.c **** 	 LCD_DrawLine (70, 429, 70, 409);
 291:source\audio/mp3play.c **** 	 
 292:source\audio/mp3play.c **** 	 LCD_DrawLine (117, 410, 141, 420);
 293:source\audio/mp3play.c **** 	 LCD_DrawLine (141, 420, 117, 429);
 294:source\audio/mp3play.c **** 	 LCD_DrawLine (117, 430, 117, 410);
 295:source\audio/mp3play.c **** 	 LCD_DrawRectangle(145,410,152,430);
 296:source\audio/mp3play.c **** 	 LCD_DrawRectangle(154,410,161,430);
 297:source\audio/mp3play.c **** 	 
 298:source\audio/mp3play.c **** 	 LCD_DrawLine (212, 410, 236, 420);
 299:source\audio/mp3play.c **** 	 LCD_DrawLine (236, 420, 212, 430);
 300:source\audio/mp3play.c **** 	 LCD_DrawLine (212, 430, 212, 410);
 301:source\audio/mp3play.c **** 	 LCD_DrawLine (236, 410, 260, 420);
 302:source\audio/mp3play.c **** 	 LCD_DrawLine (260, 420, 236, 430);
 303:source\audio/mp3play.c **** 	 LCD_DrawLine (236, 430, 236, 410);
 304:source\audio/mp3play.c **** 	 
 305:source\audio/mp3play.c **** 	 /////////322,500
 306:source\audio/mp3play.c ****          WM8978_I2S_Cfg(2,0);
 307:source\audio/mp3play.c **** 	 I2S2_Init(I2S_Standard_Phillips,I2S_Mode_MasterTx,I2S_CPOL_Low,I2S_DataFormat_16bextended);
 308:source\audio/mp3play.c **** 	 I2S2_SampleRate_Set(mp3ctrl->samplerate);
 309:source\audio/mp3play.c **** 	 I2S2_TX_DMA_Init(audiodev.i2sbuf1,audiodev.i2sbuf2,mp3ctrl->outsamples);
 310:source\audio/mp3play.c **** 	 i2s_tx_callback = mp3_i2s_dma_tx_callback;
 311:source\audio/mp3play.c **** 	 mp3decoder = MP3InitDecoder();
 312:source\audio/mp3play.c **** 	 res = f_open(audiodev.file,(char *)fname,FA_READ);
 313:source\audio/mp3play.c ****       }
 314:source\audio/mp3play.c ****       if (res == 0 && mp3decoder != 0) {
 315:source\audio/mp3play.c **** 	 f_lseek(audiodev.file,mp3ctrl->datastart);
 316:source\audio/mp3play.c **** 	 audio_start();
 317:source\audio/mp3play.c ****          audio_read_flag = 1;
 318:source\audio/mp3play.c ****          audio_run = 1;
 319:source\audio/mp3play.c ****       } else {
 320:source\audio/mp3play.c ****       	 mp3_stop();
 321:source\audio/mp3play.c ****       }
 322:source\audio/mp3play.c ****       return 0;
 323:source\audio/mp3play.c **** }
 1376              		.loc 1 323 1 view .LVU411
 1377 00bc 2846     		mov	r0, r5
 1378 00be 05B0     		add	sp, sp, #20
 1379              		.cfi_remember_state
 1380              		.cfi_def_cfa_offset 36
 1381              		@ sp needed
 1382 00c0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1383              	.LVL133:
 1384              	.L100:
 1385              		.cfi_restore_state
 257:source\audio/mp3play.c ****       memset(audiodev.i2sbuf2,0,2304 * 2);
 1386              		.loc 1 257 7 is_stmt 1 view .LVU412
 1387 00c4 2946     		mov	r1, r5
 1388 00c6 4FF49052 		mov	r2, #4608
 1389 00ca 5846     		mov	r0, fp
 1390 00cc FFF7FEFF 		bl	memset
 1391              	.LVL134:
 258:source\audio/mp3play.c ****       memset(mp3ctrl,0,sizeof(__mp3ctrl));
 1392              		.loc 1 258 7 view .LVU413
 1393 00d0 2946     		mov	r1, r5
 1394 00d2 4FF49052 		mov	r2, #4608
 1395 00d6 5046     		mov	r0, r10
 1396 00d8 FFF7FEFF 		bl	memset
 1397              	.LVL135:
 259:source\audio/mp3play.c ****       res = mp3_get_info(fname,mp3ctrl);
 1398              		.loc 1 259 7 view .LVU414
 1399 00dc 2946     		mov	r1, r5
 1400 00de 6622     		movs	r2, #102
 1401 00e0 3046     		mov	r0, r6
 1402 00e2 FFF7FEFF 		bl	memset
 1403              	.LVL136:
 260:source\audio/mp3play.c ****       if (res == 0) {
 1404              		.loc 1 260 7 view .LVU415
 260:source\audio/mp3play.c ****       if (res == 0) {
 1405              		.loc 1 260 13 is_stmt 0 view .LVU416
 1406 00e6 3146     		mov	r1, r6
 1407 00e8 4846     		mov	r0, r9
 1408 00ea FFF7FEFF 		bl	mp3_get_info
 1409              	.LVL137:
 261:source\audio/mp3play.c ****       /*
 1410              		.loc 1 261 7 is_stmt 1 view .LVU417
 261:source\audio/mp3play.c ****       /*
 1411              		.loc 1 261 10 is_stmt 0 view .LVU418
 1412 00ee 0546     		mov	r5, r0
 1413 00f0 0028     		cmp	r0, #0
 1414 00f2 40F01381 		bne	.L102
 271:source\audio/mp3play.c **** 	 lcd_printf(0,21,"Artist: %s ",mp3ctrl->artist);
 1415              		.loc 1 271 3 is_stmt 1 view .LVU419
 1416 00f6 934A     		ldr	r2, .L121+32
 1417 00f8 4B46     		mov	r3, r9
 1418 00fa 1421     		movs	r1, #20
 1419 00fc FFF7FEFF 		bl	lcd_printf
 1420              	.LVL138:
 272:source\audio/mp3play.c ****          lcd_printf(20,22,"Volume: %2d ",volume);
 1421              		.loc 1 272 3 view .LVU420
 272:source\audio/mp3play.c ****          lcd_printf(20,22,"Volume: %2d ",volume);
 1422              		.loc 1 272 40 is_stmt 0 view .LVU421
 1423 0100 3B68     		ldr	r3, [r7]
 272:source\audio/mp3play.c ****          lcd_printf(20,22,"Volume: %2d ",volume);
 1424              		.loc 1 272 3 view .LVU422
 1425 0102 914A     		ldr	r2, .L121+36
 1426 0104 2846     		mov	r0, r5
 1427 0106 2833     		adds	r3, r3, #40
 1428 0108 1521     		movs	r1, #21
 1429 010a FFF7FEFF 		bl	lcd_printf
 1430              	.LVL139:
 273:source\audio/mp3play.c **** 	 //set_color(GREEN);
 1431              		.loc 1 273 10 is_stmt 1 view .LVU423
 1432 010e 8F4B     		ldr	r3, .L121+40
 1433 0110 8F4A     		ldr	r2, .L121+44
 1434 0112 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1435 0114 1621     		movs	r1, #22
 1436 0116 1420     		movs	r0, #20
 1437 0118 FFF7FEFF 		bl	lcd_printf
 1438              	.LVL140:
 276:source\audio/mp3play.c **** 	 LCD_Draw_Circle (141, 420, 46);//circle 2 : /
 1439              		.loc 1 276 3 view .LVU424
 1440 011c 2E22     		movs	r2, #46
 1441 011e 1046     		mov	r0, r2
 1442 0120 4FF4D271 		mov	r1, #420
 1443 0124 FFF7FEFF 		bl	LCD_Draw_Circle
 1444              	.LVL141:
 277:source\audio/mp3play.c **** 	 LCD_Draw_Circle (236, 420, 46);//circle 3 : 
 1445              		.loc 1 277 3 view .LVU425
 1446 0128 2E22     		movs	r2, #46
 1447 012a 4FF4D271 		mov	r1, #420
 1448 012e 8D20     		movs	r0, #141
 1449 0130 FFF7FEFF 		bl	LCD_Draw_Circle
 1450              	.LVL142:
 278:source\audio/mp3play.c **** 	 LCD_DrawRectangle(285,380,315,410); // rectangle 1 : up
 1451              		.loc 1 278 3 view .LVU426
 1452 0134 2E22     		movs	r2, #46
 1453 0136 4FF4D271 		mov	r1, #420
 1454 013a EC20     		movs	r0, #236
 1455 013c FFF7FEFF 		bl	LCD_Draw_Circle
 1456              	.LVL143:
 279:source\audio/mp3play.c **** 	 LCD_DrawLine (290, 395, 310, 395);
 1457              		.loc 1 279 3 view .LVU427
 1458 0140 4FF4CD73 		mov	r3, #410
 1459 0144 40F23B12 		movw	r2, #315
 1460 0148 4FF4BE71 		mov	r1, #380
 1461 014c 40F21D10 		movw	r0, #285
 1462 0150 FFF7FEFF 		bl	LCD_DrawRectangle
 1463              	.LVL144:
 280:source\audio/mp3play.c **** 	 LCD_DrawLine (300, 385, 300, 405);
 1464              		.loc 1 280 3 view .LVU428
 1465 0154 40F28B13 		movw	r3, #395
 1466 0158 1946     		mov	r1, r3
 1467 015a 4FF49B72 		mov	r2, #310
 1468 015e 4FF49170 		mov	r0, #290
 1469 0162 FFF7FEFF 		bl	LCD_DrawLine
 1470              	.LVL145:
 281:source\audio/mp3play.c **** 	 LCD_DrawRectangle(285,430,315,460); // rectangle 2 : down
 1471              		.loc 1 281 3 view .LVU429
 1472 0166 4FF49672 		mov	r2, #300
 1473 016a 1046     		mov	r0, r2
 1474 016c 40F29513 		movw	r3, #405
 1475 0170 40F28111 		movw	r1, #385
 1476 0174 FFF7FEFF 		bl	LCD_DrawLine
 1477              	.LVL146:
 282:source\audio/mp3play.c **** 	 LCD_DrawLine (290, 445, 310, 445);
 1478              		.loc 1 282 3 view .LVU430
 1479 0178 4FF4E673 		mov	r3, #460
 1480 017c 40F23B12 		movw	r2, #315
 1481 0180 4FF4D771 		mov	r1, #430
 1482 0184 40F21D10 		movw	r0, #285
 1483 0188 FFF7FEFF 		bl	LCD_DrawRectangle
 1484              	.LVL147:
 283:source\audio/mp3play.c **** 	 
 1485              		.loc 1 283 3 view .LVU431
 1486 018c 40F2BD13 		movw	r3, #445
 1487 0190 1946     		mov	r1, r3
 1488 0192 4FF49B72 		mov	r2, #310
 1489 0196 4FF49170 		mov	r0, #290
 1490 019a FFF7FEFF 		bl	LCD_DrawLine
 1491              	.LVL148:
 285:source\audio/mp3play.c **** 	 LCD_DrawLine (20, 419, 44, 429);
 1492              		.loc 1 285 3 view .LVU432
 1493 019e 40F2A313 		movw	r3, #419
 1494 01a2 1422     		movs	r2, #20
 1495 01a4 40F29911 		movw	r1, #409
 1496 01a8 2C20     		movs	r0, #44
 1497 01aa FFF7FEFF 		bl	LCD_DrawLine
 1498              	.LVL149:
 286:source\audio/mp3play.c **** 	 LCD_DrawLine (44, 429, 44, 409);
 1499              		.loc 1 286 3 view .LVU433
 1500 01ae 40F2AD13 		movw	r3, #429
 1501 01b2 2C22     		movs	r2, #44
 1502 01b4 40F2A311 		movw	r1, #419
 1503 01b8 1420     		movs	r0, #20
 1504 01ba FFF7FEFF 		bl	LCD_DrawLine
 1505              	.LVL150:
 287:source\audio/mp3play.c **** 	 LCD_DrawLine (70, 409, 46, 419);
 1506              		.loc 1 287 3 view .LVU434
 1507 01be 2C22     		movs	r2, #44
 1508 01c0 1046     		mov	r0, r2
 1509 01c2 40F29913 		movw	r3, #409
 1510 01c6 40F2AD11 		movw	r1, #429
 1511 01ca FFF7FEFF 		bl	LCD_DrawLine
 1512              	.LVL151:
 288:source\audio/mp3play.c **** 	 LCD_DrawLine (46, 419, 70, 429);
 1513              		.loc 1 288 3 view .LVU435
 1514 01ce 40F2A313 		movw	r3, #419
 1515 01d2 2E22     		movs	r2, #46
 1516 01d4 40F29911 		movw	r1, #409
 1517 01d8 4620     		movs	r0, #70
 1518 01da FFF7FEFF 		bl	LCD_DrawLine
 1519              	.LVL152:
 289:source\audio/mp3play.c **** 	 LCD_DrawLine (70, 429, 70, 409);
 1520              		.loc 1 289 3 view .LVU436
 1521 01de 40F2AD13 		movw	r3, #429
 1522 01e2 4622     		movs	r2, #70
 1523 01e4 40F2A311 		movw	r1, #419
 1524 01e8 2E20     		movs	r0, #46
 1525 01ea FFF7FEFF 		bl	LCD_DrawLine
 1526              	.LVL153:
 290:source\audio/mp3play.c **** 	 
 1527              		.loc 1 290 3 view .LVU437
 1528 01ee 4622     		movs	r2, #70
 1529 01f0 1046     		mov	r0, r2
 1530 01f2 40F29913 		movw	r3, #409
 1531 01f6 40F2AD11 		movw	r1, #429
 1532 01fa FFF7FEFF 		bl	LCD_DrawLine
 1533              	.LVL154:
 292:source\audio/mp3play.c **** 	 LCD_DrawLine (141, 420, 117, 429);
 1534              		.loc 1 292 3 view .LVU438
 1535 01fe 4FF4D273 		mov	r3, #420
 1536 0202 8D22     		movs	r2, #141
 1537 0204 4FF4CD71 		mov	r1, #410
 1538 0208 7520     		movs	r0, #117
 1539 020a FFF7FEFF 		bl	LCD_DrawLine
 1540              	.LVL155:
 293:source\audio/mp3play.c **** 	 LCD_DrawLine (117, 430, 117, 410);
 1541              		.loc 1 293 3 view .LVU439
 1542 020e 40F2AD13 		movw	r3, #429
 1543 0212 7522     		movs	r2, #117
 1544 0214 4FF4D271 		mov	r1, #420
 1545 0218 8D20     		movs	r0, #141
 1546 021a FFF7FEFF 		bl	LCD_DrawLine
 1547              	.LVL156:
 294:source\audio/mp3play.c **** 	 LCD_DrawRectangle(145,410,152,430);
 1548              		.loc 1 294 3 view .LVU440
 1549 021e 7522     		movs	r2, #117
 1550 0220 1046     		mov	r0, r2
 1551 0222 4FF4CD73 		mov	r3, #410
 1552 0226 4FF4D771 		mov	r1, #430
 1553 022a FFF7FEFF 		bl	LCD_DrawLine
 1554              	.LVL157:
 295:source\audio/mp3play.c **** 	 LCD_DrawRectangle(154,410,161,430);
 1555              		.loc 1 295 3 view .LVU441
 1556 022e 4FF4D773 		mov	r3, #430
 1557 0232 9822     		movs	r2, #152
 1558 0234 4FF4CD71 		mov	r1, #410
 1559 0238 9120     		movs	r0, #145
 1560 023a FFF7FEFF 		bl	LCD_DrawRectangle
 1561              	.LVL158:
 296:source\audio/mp3play.c **** 	 
 1562              		.loc 1 296 3 view .LVU442
 1563 023e 4FF4D773 		mov	r3, #430
 1564 0242 A122     		movs	r2, #161
 1565 0244 4FF4CD71 		mov	r1, #410
 1566 0248 9A20     		movs	r0, #154
 1567 024a FFF7FEFF 		bl	LCD_DrawRectangle
 1568              	.LVL159:
 298:source\audio/mp3play.c **** 	 LCD_DrawLine (236, 420, 212, 430);
 1569              		.loc 1 298 3 view .LVU443
 1570 024e 4FF4D273 		mov	r3, #420
 1571 0252 EC22     		movs	r2, #236
 1572 0254 4FF4CD71 		mov	r1, #410
 1573 0258 D420     		movs	r0, #212
 1574 025a FFF7FEFF 		bl	LCD_DrawLine
 1575              	.LVL160:
 299:source\audio/mp3play.c **** 	 LCD_DrawLine (212, 430, 212, 410);
 1576              		.loc 1 299 3 view .LVU444
 1577 025e 4FF4D773 		mov	r3, #430
 1578 0262 D422     		movs	r2, #212
 1579 0264 4FF4D271 		mov	r1, #420
 1580 0268 EC20     		movs	r0, #236
 1581 026a FFF7FEFF 		bl	LCD_DrawLine
 1582              	.LVL161:
 300:source\audio/mp3play.c **** 	 LCD_DrawLine (236, 410, 260, 420);
 1583              		.loc 1 300 3 view .LVU445
 1584 026e D422     		movs	r2, #212
 1585 0270 1046     		mov	r0, r2
 1586 0272 4FF4CD73 		mov	r3, #410
 1587 0276 4FF4D771 		mov	r1, #430
 1588 027a FFF7FEFF 		bl	LCD_DrawLine
 1589              	.LVL162:
 301:source\audio/mp3play.c **** 	 LCD_DrawLine (260, 420, 236, 430);
 1590              		.loc 1 301 3 view .LVU446
 1591 027e 4FF4D273 		mov	r3, #420
 1592 0282 4FF48272 		mov	r2, #260
 1593 0286 4FF4CD71 		mov	r1, #410
 1594 028a EC20     		movs	r0, #236
 1595 028c FFF7FEFF 		bl	LCD_DrawLine
 1596              	.LVL163:
 302:source\audio/mp3play.c **** 	 LCD_DrawLine (236, 430, 236, 410);
 1597              		.loc 1 302 3 view .LVU447
 1598 0290 4FF4D773 		mov	r3, #430
 1599 0294 EC22     		movs	r2, #236
 1600 0296 4FF4D271 		mov	r1, #420
 1601 029a 4FF48270 		mov	r0, #260
 1602 029e FFF7FEFF 		bl	LCD_DrawLine
 1603              	.LVL164:
 303:source\audio/mp3play.c **** 	 
 1604              		.loc 1 303 3 view .LVU448
 1605 02a2 EC22     		movs	r2, #236
 1606 02a4 1046     		mov	r0, r2
 1607 02a6 4FF4CD73 		mov	r3, #410
 1608 02aa 4FF4D771 		mov	r1, #430
 1609 02ae FFF7FEFF 		bl	LCD_DrawLine
 1610              	.LVL165:
 306:source\audio/mp3play.c **** 	 I2S2_Init(I2S_Standard_Phillips,I2S_Mode_MasterTx,I2S_CPOL_Low,I2S_DataFormat_16bextended);
 1611              		.loc 1 306 10 view .LVU449
 1612 02b2 2946     		mov	r1, r5
 1613 02b4 0220     		movs	r0, #2
 1614 02b6 FFF7FEFF 		bl	WM8978_I2S_Cfg
 1615              	.LVL166:
 307:source\audio/mp3play.c **** 	 I2S2_SampleRate_Set(mp3ctrl->samplerate);
 1616              		.loc 1 307 3 view .LVU450
 1617 02ba 2A46     		mov	r2, r5
 1618 02bc 4FF40071 		mov	r1, #512
 1619 02c0 2846     		mov	r0, r5
 1620 02c2 0123     		movs	r3, #1
 1621 02c4 FFF7FEFF 		bl	I2S2_Init
 1622              	.LVL167:
 308:source\audio/mp3play.c **** 	 I2S2_TX_DMA_Init(audiodev.i2sbuf1,audiodev.i2sbuf2,mp3ctrl->outsamples);
 1623              		.loc 1 308 3 view .LVU451
 1624 02c8 3B68     		ldr	r3, [r7]
 1625 02ca D86D     		ldr	r0, [r3, #92]	@ unaligned
 1626 02cc FFF7FEFF 		bl	I2S2_SampleRate_Set
 1627              	.LVL168:
 309:source\audio/mp3play.c **** 	 i2s_tx_callback = mp3_i2s_dma_tx_callback;
 1628              		.loc 1 309 3 view .LVU452
 1629 02d0 3B68     		ldr	r3, [r7]
 1630 02d2 6168     		ldr	r1, [r4, #4]	@ unaligned
 1631 02d4 B3F86020 		ldrh	r2, [r3, #96]	@ unaligned
 1632 02d8 2068     		ldr	r0, [r4]	@ unaligned
 1633 02da FFF7FEFF 		bl	I2S2_TX_DMA_Init
 1634              	.LVL169:
 310:source\audio/mp3play.c **** 	 mp3decoder = MP3InitDecoder();
 1635              		.loc 1 310 3 view .LVU453
 310:source\audio/mp3play.c **** 	 mp3decoder = MP3InitDecoder();
 1636              		.loc 1 310 19 is_stmt 0 view .LVU454
 1637 02de 1D4B     		ldr	r3, .L121+48
 1638 02e0 1D4A     		ldr	r2, .L121+52
 1639 02e2 1A60     		str	r2, [r3]
 311:source\audio/mp3play.c **** 	 res = f_open(audiodev.file,(char *)fname,FA_READ);
 1640              		.loc 1 311 3 is_stmt 1 view .LVU455
 311:source\audio/mp3play.c **** 	 res = f_open(audiodev.file,(char *)fname,FA_READ);
 1641              		.loc 1 311 16 is_stmt 0 view .LVU456
 1642 02e4 FFF7FEFF 		bl	MP3InitDecoder
 1643              	.LVL170:
 312:source\audio/mp3play.c ****       }
 1644              		.loc 1 312 9 view .LVU457
 1645 02e8 0122     		movs	r2, #1
 311:source\audio/mp3play.c **** 	 res = f_open(audiodev.file,(char *)fname,FA_READ);
 1646              		.loc 1 311 14 view .LVU458
 1647 02ea C8F80000 		str	r0, [r8]
 312:source\audio/mp3play.c ****       }
 1648              		.loc 1 312 3 is_stmt 1 view .LVU459
 312:source\audio/mp3play.c ****       }
 1649              		.loc 1 312 9 is_stmt 0 view .LVU460
 1650 02ee 4946     		mov	r1, r9
 1651 02f0 E068     		ldr	r0, [r4, #12]	@ unaligned
 1652 02f2 FFF7FEFF 		bl	f_open
 1653              	.LVL171:
 314:source\audio/mp3play.c **** 	 f_lseek(audiodev.file,mp3ctrl->datastart);
 1654              		.loc 1 314 7 is_stmt 1 view .LVU461
 314:source\audio/mp3play.c **** 	 f_lseek(audiodev.file,mp3ctrl->datastart);
 1655              		.loc 1 314 10 is_stmt 0 view .LVU462
 1656 02f6 0546     		mov	r5, r0
 1657 02f8 80B9     		cbnz	r0, .L102
 314:source\audio/mp3play.c **** 	 f_lseek(audiodev.file,mp3ctrl->datastart);
 1658              		.loc 1 314 20 discriminator 1 view .LVU463
 1659 02fa D8F80030 		ldr	r3, [r8]
 1660 02fe 6BB1     		cbz	r3, .L102
 315:source\audio/mp3play.c **** 	 audio_start();
 1661              		.loc 1 315 3 is_stmt 1 view .LVU464
 315:source\audio/mp3play.c **** 	 audio_start();
 1662              		.loc 1 315 32 is_stmt 0 view .LVU465
 1663 0300 3B68     		ldr	r3, [r7]
 315:source\audio/mp3play.c **** 	 audio_start();
 1664              		.loc 1 315 3 view .LVU466
 1665 0302 E068     		ldr	r0, [r4, #12]	@ unaligned
 1666              	.LVL172:
 315:source\audio/mp3play.c **** 	 audio_start();
 1667              		.loc 1 315 3 view .LVU467
 1668 0304 D3F86210 		ldr	r1, [r3, #98]	@ unaligned
 1669 0308 FFF7FEFF 		bl	f_lseek
 1670              	.LVL173:
 316:source\audio/mp3play.c ****          audio_read_flag = 1;
 1671              		.loc 1 316 3 is_stmt 1 view .LVU468
 1672 030c FFF7FEFF 		bl	audio_start
 1673              	.LVL174:
 317:source\audio/mp3play.c ****          audio_run = 1;
 1674              		.loc 1 317 10 view .LVU469
 317:source\audio/mp3play.c ****          audio_run = 1;
 1675              		.loc 1 317 26 is_stmt 0 view .LVU470
 1676 0310 124A     		ldr	r2, .L121+56
 1677 0312 0123     		movs	r3, #1
 1678 0314 1370     		strb	r3, [r2]
 318:source\audio/mp3play.c ****       } else {
 1679              		.loc 1 318 10 is_stmt 1 view .LVU471
 318:source\audio/mp3play.c ****       } else {
 1680              		.loc 1 318 20 is_stmt 0 view .LVU472
 1681 0316 124A     		ldr	r2, .L121+60
 1682 0318 1370     		strb	r3, [r2]
 1683 031a CFE6     		b	.L101
 1684              	.LVL175:
 1685              	.L102:
 320:source\audio/mp3play.c ****       }
 1686              		.loc 1 320 9 is_stmt 1 view .LVU473
 1687 031c FFF7FEFF 		bl	mp3_stop
 1688              	.LVL176:
 322:source\audio/mp3play.c **** }
 1689              		.loc 1 322 14 is_stmt 0 view .LVU474
 1690 0320 0025     		movs	r5, #0
 1691 0322 CBE6     		b	.L101
 1692              	.L122:
 1693              		.align	2
 1694              	.L121:
 1695 0324 00000000 		.word	.LANCHOR5
 1696 0328 00000000 		.word	.LANCHOR6
 1697 032c 00000000 		.word	.LANCHOR7
 1698 0330 00000000 		.word	audio_br
 1699 0334 00000000 		.word	.LANCHOR2
 1700 0338 00000000 		.word	.LANCHOR4
 1701 033c 00000000 		.word	audiodev
 1702 0340 00000000 		.word	mp3_file_seek
 1703 0344 00000000 		.word	.LC10
 1704 0348 0A000000 		.word	.LC11
 1705 034c 00000000 		.word	volume
 1706 0350 16000000 		.word	.LC12
 1707 0354 00000000 		.word	i2s_tx_callback
 1708 0358 00000000 		.word	mp3_i2s_dma_tx_callback
 1709 035c 00000000 		.word	audio_read_flag
 1710 0360 00000000 		.word	audio_run
 1711 0364 00000000 		.word	.LANCHOR3
 1712              		.cfi_endproc
 1713              	.LFE138:
 1715              		.section	.rodata.mp3_play.str1.1,"aMS",%progbits,1
 1716              	.LC13:
 1717 0000 54696D65 		.ascii	"Time: %2d:%.2d %2d:%.2d \000"
 1717      3A202532 
 1717      643A252E 
 1717      32642025 
 1717      32643A25 
 1718              	.LC14:
 1719 0019 6465636F 		.ascii	"decode error: %d \000"
 1719      64652065 
 1719      72726F72 
 1719      3A202564 
 1719      2000
 1720              		.section	.text.mp3_play,"ax",%progbits
 1721              		.align	1
 1722              		.global	mp3_play
 1723              		.syntax unified
 1724              		.thumb
 1725              		.thumb_func
 1727              	mp3_play:
 1728              	.LFB139:
 324:source\audio/mp3play.c **** 
 325:source\audio/mp3play.c **** 
 326:source\audio/mp3play.c **** void mp3_play (void)
 327:source\audio/mp3play.c **** {
 1729              		.loc 1 327 1 is_stmt 1 view -0
 1730              		.cfi_startproc
 1731              		@ args = 0, pretend = 0, frame = 0
 1732              		@ frame_needed = 0, uses_anonymous_args = 0
 328:source\audio/mp3play.c ****      unsigned char res;
 1733              		.loc 1 328 6 view .LVU476
 329:source\audio/mp3play.c ****       int err = 0;
 1734              		.loc 1 329 7 view .LVU477
 1735              	.LVL177:
 330:source\audio/mp3play.c ****       if ((audiodev.status & (1 << 1)) && (audio_decode_flag == 0) && (audio_pause == 0)) {
 1736              		.loc 1 330 7 view .LVU478
 327:source\audio/mp3play.c ****      unsigned char res;
 1737              		.loc 1 327 1 is_stmt 0 view .LVU479
 1738 0000 2DE9FF47 		push	{r0, r1, r2, r3, r4, r5, r6, r7, r8, r9, r10, lr}
 1739              		.cfi_def_cfa_offset 48
 1740              		.cfi_offset 4, -32
 1741              		.cfi_offset 5, -28
 1742              		.cfi_offset 6, -24
 1743              		.cfi_offset 7, -20
 1744              		.cfi_offset 8, -16
 1745              		.cfi_offset 9, -12
 1746              		.cfi_offset 10, -8
 1747              		.cfi_offset 14, -4
 1748              		.loc 1 330 20 view .LVU480
 1749 0004 7A4C     		ldr	r4, .L151
 1750 0006 7B4E     		ldr	r6, .L151+4
 1751 0008 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1752              		.loc 1 330 10 view .LVU481
 1753 000a 13F0020F 		tst	r3, #2
 1754 000e 3FD0     		beq	.L125
 1755              		.loc 1 330 62 discriminator 1 view .LVU482
 1756 0010 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1757              		.loc 1 330 40 discriminator 1 view .LVU483
 1758 0012 002B     		cmp	r3, #0
 1759 0014 3CD1     		bne	.L125
 1760              		.loc 1 330 84 discriminator 2 view .LVU484
 1761 0016 784B     		ldr	r3, .L151+8
 1762 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1763              		.loc 1 330 68 discriminator 2 view .LVU485
 1764 001a 03F0FF05 		and	r5, r3, #255
 1765 001e 002B     		cmp	r3, #0
 1766 0020 36D1     		bne	.L125
 331:source\audio/mp3play.c ****          if (audio_delay >= 100) {
 1767              		.loc 1 331 10 is_stmt 1 view .LVU486
 1768              		.loc 1 331 26 is_stmt 0 view .LVU487
 1769 0022 764B     		ldr	r3, .L151+12
 1770 0024 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1771              		.loc 1 331 13 view .LVU488
 1772 0026 632A     		cmp	r2, #99
 1773 0028 2DD9     		bls	.L128
 332:source\audio/mp3play.c ****             audio_delay = 0;
 1774              		.loc 1 332 13 is_stmt 1 view .LVU489
 333:source\audio/mp3play.c **** 	    mp3_get_curtime(audiodev.file,mp3ctrl);
 1775              		.loc 1 333 6 is_stmt 0 view .LVU490
 1776 002a 754F     		ldr	r7, .L151+16
 332:source\audio/mp3play.c ****             audio_delay = 0;
 1777              		.loc 1 332 25 view .LVU491
 1778 002c 1D70     		strb	r5, [r3]
 1779              		.loc 1 333 6 is_stmt 1 view .LVU492
 1780 002e 3968     		ldr	r1, [r7]
 1781 0030 E068     		ldr	r0, [r4, #12]	@ unaligned
 1782 0032 FFF7FEFF 		bl	mp3_get_curtime
 1783              	.LVL178:
 334:source\audio/mp3play.c **** 	    audiodev.totsec = mp3ctrl->totsec;
 1784              		.loc 1 334 6 view .LVU493
 1785              		.loc 1 334 31 is_stmt 0 view .LVU494
 1786 0036 3B68     		ldr	r3, [r7]
 1787 0038 196D     		ldr	r1, [r3, #80]	@ unaligned
 1788              		.loc 1 334 22 view .LVU495
 1789 003a C4F82210 		str	r1, [r4, #34]	@ unaligned
 335:source\audio/mp3play.c **** 	    audiodev.cursec = mp3ctrl->cursec;
 1790              		.loc 1 335 6 is_stmt 1 view .LVU496
 1791              		.loc 1 335 31 is_stmt 0 view .LVU497
 1792 003e 5A6D     		ldr	r2, [r3, #84]	@ unaligned
 1793              		.loc 1 335 22 view .LVU498
 1794 0040 C4F82620 		str	r2, [r4, #38]	@ unaligned
 336:source\audio/mp3play.c **** 	    audiodev.bitrate = mp3ctrl->bitrate;
 1795              		.loc 1 336 6 is_stmt 1 view .LVU499
 1796              		.loc 1 336 32 is_stmt 0 view .LVU500
 1797 0044 986D     		ldr	r0, [r3, #88]	@ unaligned
 1798              		.loc 1 336 23 view .LVU501
 1799 0046 C4F82A00 		str	r0, [r4, #42]	@ unaligned
 337:source\audio/mp3play.c **** 	    audiodev.samplerate = mp3ctrl->samplerate;
 1800              		.loc 1 337 6 is_stmt 1 view .LVU502
 1801              		.loc 1 337 35 is_stmt 0 view .LVU503
 1802 004a DB6D     		ldr	r3, [r3, #92]	@ unaligned
 1803              		.loc 1 337 26 view .LVU504
 1804 004c C4F82E30 		str	r3, [r4, #46]	@ unaligned
 338:source\audio/mp3play.c **** 	    audiodev.bps = 16;
 1805              		.loc 1 338 6 is_stmt 1 view .LVU505
 1806              		.loc 1 338 19 is_stmt 0 view .LVU506
 1807 0050 1023     		movs	r3, #16
 1808 0052 84F83230 		strb	r3, [r4, #50]
 339:source\audio/mp3play.c ****             if (mp3ctrl->cursec != audio_old_sec) {
 1809              		.loc 1 339 33 view .LVU507
 1810 0056 6B4B     		ldr	r3, .L151+20
 338:source\audio/mp3play.c **** 	    audiodev.bps = 16;
 1811              		.loc 1 338 19 view .LVU508
 1812 0058 84F83350 		strb	r5, [r4, #51]
 1813              		.loc 1 339 13 is_stmt 1 view .LVU509
 1814              		.loc 1 339 16 is_stmt 0 view .LVU510
 1815 005c 1868     		ldr	r0, [r3]
 1816 005e 8242     		cmp	r2, r0
 1817 0060 11D0     		beq	.L128
 340:source\audio/mp3play.c ****                audio_old_sec = mp3ctrl->cursec;
 1818              		.loc 1 340 16 is_stmt 1 view .LVU511
 341:source\audio/mp3play.c ****                lcd_printf(0,22,"Time: %2d:%.2d %2d:%.2d ",mp3ctrl->totsec / 60,mp3ctrl->totsec % 60
 1819              		.loc 1 341 16 is_stmt 0 view .LVU512
 1820 0062 3C20     		movs	r0, #60
 340:source\audio/mp3play.c ****                audio_old_sec = mp3ctrl->cursec;
 1821              		.loc 1 340 30 view .LVU513
 1822 0064 1A60     		str	r2, [r3]
 1823              		.loc 1 341 16 is_stmt 1 view .LVU514
 1824 0066 B2FBF0F7 		udiv	r7, r2, r0
 1825 006a B1FBF0F3 		udiv	r3, r1, r0
 1826 006e 00FB1722 		mls	r2, r0, r7, r2
 1827 0072 00FB1311 		mls	r1, r0, r3, r1
 1828 0076 CDE90172 		strd	r7, r2, [sp, #4]
 1829 007a 0091     		str	r1, [sp]
 1830 007c 624A     		ldr	r2, .L151+24
 1831 007e 1621     		movs	r1, #22
 1832 0080 2846     		mov	r0, r5
 1833 0082 FFF7FEFF 		bl	lcd_printf
 1834              	.LVL179:
 1835              	.L128:
 342:source\audio/mp3play.c **** 	       //if (audio_old_sec >= 20) mp3_stop();
 343:source\audio/mp3play.c ****             }
 344:source\audio/mp3play.c ****          }
 345:source\audio/mp3play.c ****          if (audiodev.status & 0x01) audio_decode_flag = 1;
 1836              		.loc 1 345 10 view .LVU515
 1837              		.loc 1 345 22 is_stmt 0 view .LVU516
 1838 0086 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1839              		.loc 1 345 13 view .LVU517
 1840 0088 DA07     		lsls	r2, r3, #31
 1841              		.loc 1 345 38 is_stmt 1 view .LVU518
 1842              		.loc 1 345 56 is_stmt 0 view .LVU519
 1843 008a 44BF     		itt	mi
 1844 008c 0123     		movmi	r3, #1
 1845 008e 3370     		strbmi	r3, [r6]
 1846              	.L125:
 346:source\audio/mp3play.c ****       }
 347:source\audio/mp3play.c ****       if ((audio_decode_flag) && (audio_pause == 0)) {
 1847              		.loc 1 347 7 is_stmt 1 view .LVU520
 1848              		.loc 1 347 11 is_stmt 0 view .LVU521
 1849 0090 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1850 0092 DFF89881 		ldr	r8, .L151+60
 1851              		.loc 1 347 10 view .LVU522
 1852 0096 C3B1     		cbz	r3, .L130
 1853              		.loc 1 347 47 discriminator 1 view .LVU523
 1854 0098 574B     		ldr	r3, .L151+8
 1855 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1856              		.loc 1 347 31 discriminator 1 view .LVU524
 1857 009c 03F0FF09 		and	r9, r3, #255
 1858 00a0 9BB9     		cbnz	r3, .L130
 348:source\audio/mp3play.c ****          mp3_offset = MP3FindSyncWord(mp3_readptr,mp3_bytesleft);
 1859              		.loc 1 348 10 is_stmt 1 view .LVU525
 1860              		.loc 1 348 23 is_stmt 0 view .LVU526
 1861 00a2 5A4D     		ldr	r5, .L151+28
 1862 00a4 5A4F     		ldr	r7, .L151+32
 1863 00a6 2968     		ldr	r1, [r5]
 1864 00a8 3868     		ldr	r0, [r7]
 1865 00aa FFF7FEFF 		bl	MP3FindSyncWord
 1866              	.LVL180:
 1867              		.loc 1 348 21 view .LVU527
 1868 00ae 594B     		ldr	r3, .L151+36
 349:source\audio/mp3play.c **** 	 if ((mp3_offset < 0) || ((audiodev.status & (1 << 1)) == 0)) {
 1869              		.loc 1 349 6 view .LVU528
 1870 00b0 0028     		cmp	r0, #0
 348:source\audio/mp3play.c ****          mp3_offset = MP3FindSyncWord(mp3_readptr,mp3_bytesleft);
 1871              		.loc 1 348 21 view .LVU529
 1872 00b2 1860     		str	r0, [r3]
 1873              		.loc 1 349 3 is_stmt 1 view .LVU530
 1874              		.loc 1 349 6 is_stmt 0 view .LVU531
 1875 00b4 02DB     		blt	.L131
 1876              		.loc 1 349 37 discriminator 1 view .LVU532
 1877 00b6 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 1878              		.loc 1 349 24 discriminator 1 view .LVU533
 1879 00b8 9B07     		lsls	r3, r3, #30
 1880 00ba 31D4     		bmi	.L132
 1881              	.L131:
 350:source\audio/mp3play.c **** 	    mp3_outofdata = 1;
 1882              		.loc 1 350 6 is_stmt 1 view .LVU534
 1883              		.loc 1 350 20 is_stmt 0 view .LVU535
 1884 00bc 564A     		ldr	r2, .L151+40
 1885 00be 0123     		movs	r3, #1
 1886 00c0 1360     		str	r3, [r2]
 351:source\audio/mp3play.c **** 	    audio_read_flag = 1;
 1887              		.loc 1 351 6 is_stmt 1 view .LVU536
 1888              		.loc 1 351 22 is_stmt 0 view .LVU537
 1889 00c2 88F80030 		strb	r3, [r8]
 352:source\audio/mp3play.c **** 	    audio_decode_flag = 0;
 1890              		.loc 1 352 6 is_stmt 1 view .LVU538
 1891              	.LVL181:
 1892              	.L136:
 353:source\audio/mp3play.c **** 	 } else {
 354:source\audio/mp3play.c **** 	    mp3_readptr += mp3_offset;
 355:source\audio/mp3play.c **** 	    mp3_bytesleft -= mp3_offset;
 356:source\audio/mp3play.c **** 	    //err = MP3Decode(mp3decoder,&mp3_readptr,&mp3_bytesleft,(short *)audiodev.tbuf,0);	// POINTER
 357:source\audio/mp3play.c **** 	    err = MP3Decode(mp3decoder,&mp3_readptr,&mp3_bytesleft,(void *)audiodev.tbuf,0);
 358:source\audio/mp3play.c **** 	    if (err != 0) {
 359:source\audio/mp3play.c **** 	       lcd_printf(0,29,"decode error: %d ",err);
 360:source\audio/mp3play.c **** 	       mp3_stop();
 361:source\audio/mp3play.c **** 	       audio_decode_flag = 0;
 362:source\audio/mp3play.c **** 	       audio_read_flag = 0;
 363:source\audio/mp3play.c **** 	    } else {
 364:source\audio/mp3play.c **** 	       MP3GetLastFrameInfo(mp3decoder,&mp3frameinfo);
 365:source\audio/mp3play.c **** 	       if (mp3ctrl->bitrate != (unsigned int)mp3frameinfo.bitrate) {
 366:source\audio/mp3play.c **** 	          mp3ctrl->bitrate = mp3frameinfo.bitrate;
 367:source\audio/mp3play.c **** 	       }
 368:source\audio/mp3play.c **** 	       //mp3_fill_buffer((unsigned short *)audiodev.tbuf,mp3frameinfo.outputSamps,mp3frameinfo.nCh
 369:source\audio/mp3play.c **** 	       mp3_fill_buffer((void *)audiodev.tbuf,mp3frameinfo.outputSamps,mp3frameinfo.nChans);
 370:source\audio/mp3play.c **** 	    }
 371:source\audio/mp3play.c **** 	    if (mp3_bytesleft < MAINBUF_SIZE * 2) {
 372:source\audio/mp3play.c **** 	       memmove(mp3_buffer,mp3_readptr,mp3_bytesleft);
 373:source\audio/mp3play.c **** 	       f_read(audiodev.file,mp3_buffer + mp3_bytesleft,MP3_FILE_BUF_SZ - mp3_bytesleft,&audio_br);
 374:source\audio/mp3play.c **** 	       if (audio_br < (unsigned int)(MP3_FILE_BUF_SZ - mp3_bytesleft)) {
 375:source\audio/mp3play.c **** 		  memset(mp3_buffer + mp3_bytesleft + audio_br,0,MP3_FILE_BUF_SZ - mp3_bytesleft - audio_br);
 376:source\audio/mp3play.c **** 	       }
 377:source\audio/mp3play.c **** 	       mp3_bytesleft = MP3_FILE_BUF_SZ;
 378:source\audio/mp3play.c **** 	       mp3_readptr = mp3_buffer;
 379:source\audio/mp3play.c **** 	    }
 380:source\audio/mp3play.c **** 	    audio_decode_flag = 0;
 1893              		.loc 1 380 6 view .LVU539
 1894              		.loc 1 380 24 is_stmt 0 view .LVU540
 1895 00c6 0023     		movs	r3, #0
 1896 00c8 3370     		strb	r3, [r6]
 1897              	.L130:
 381:source\audio/mp3play.c **** 	 }
 382:source\audio/mp3play.c ****       }
 383:source\audio/mp3play.c ****       if ((audio_read_flag) && (audio_pause == 0)) {
 1898              		.loc 1 383 7 is_stmt 1 view .LVU541
 1899              		.loc 1 383 11 is_stmt 0 view .LVU542
 1900 00ca 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 1901              		.loc 1 383 10 view .LVU543
 1902 00ce 23B3     		cbz	r3, .L123
 1903              		.loc 1 383 45 discriminator 1 view .LVU544
 1904 00d0 494B     		ldr	r3, .L151+8
 1905 00d2 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1906              		.loc 1 383 29 discriminator 1 view .LVU545
 1907 00d4 02F0FF03 		and	r3, r2, #255
 1908 00d8 FAB9     		cbnz	r2, .L123
 384:source\audio/mp3play.c **** 	 mp3_readptr = mp3_buffer;
 1909              		.loc 1 384 3 is_stmt 1 view .LVU546
 1910              		.loc 1 384 15 is_stmt 0 view .LVU547
 1911 00da 504A     		ldr	r2, .L151+44
 385:source\audio/mp3play.c **** 	 mp3_offset = 0;
 386:source\audio/mp3play.c **** 	 mp3_outofdata = 0;
 387:source\audio/mp3play.c **** 	 mp3_bytesleft = 0;
 1912              		.loc 1 387 17 view .LVU548
 1913 00dc 4B4D     		ldr	r5, .L151+28
 384:source\audio/mp3play.c **** 	 mp3_readptr = mp3_buffer;
 1914              		.loc 1 384 15 view .LVU549
 1915 00de 1168     		ldr	r1, [r2]
 1916 00e0 4B4A     		ldr	r2, .L151+32
 388:source\audio/mp3play.c **** 	 res = f_read(audiodev.file,mp3_buffer,MP3_FILE_BUF_SZ,&audio_br);
 1917              		.loc 1 388 9 view .LVU550
 1918 00e2 4F4F     		ldr	r7, .L151+48
 384:source\audio/mp3play.c **** 	 mp3_readptr = mp3_buffer;
 1919              		.loc 1 384 15 view .LVU551
 1920 00e4 1160     		str	r1, [r2]
 385:source\audio/mp3play.c **** 	 mp3_offset = 0;
 1921              		.loc 1 385 3 is_stmt 1 view .LVU552
 385:source\audio/mp3play.c **** 	 mp3_offset = 0;
 1922              		.loc 1 385 14 is_stmt 0 view .LVU553
 1923 00e6 4B4A     		ldr	r2, .L151+36
 387:source\audio/mp3play.c **** 	 res = f_read(audiodev.file,mp3_buffer,MP3_FILE_BUF_SZ,&audio_br);
 1924              		.loc 1 387 17 view .LVU554
 1925 00e8 2B60     		str	r3, [r5]
 385:source\audio/mp3play.c **** 	 mp3_offset = 0;
 1926              		.loc 1 385 14 view .LVU555
 1927 00ea 1360     		str	r3, [r2]
 386:source\audio/mp3play.c **** 	 mp3_bytesleft = 0;
 1928              		.loc 1 386 3 is_stmt 1 view .LVU556
 386:source\audio/mp3play.c **** 	 mp3_bytesleft = 0;
 1929              		.loc 1 386 17 is_stmt 0 view .LVU557
 1930 00ec 4A4A     		ldr	r2, .L151+40
 1931 00ee 1360     		str	r3, [r2]
 387:source\audio/mp3play.c **** 	 res = f_read(audiodev.file,mp3_buffer,MP3_FILE_BUF_SZ,&audio_br);
 1932              		.loc 1 387 3 is_stmt 1 view .LVU558
 1933              		.loc 1 388 3 view .LVU559
 1934              		.loc 1 388 9 is_stmt 0 view .LVU560
 1935 00f0 E068     		ldr	r0, [r4, #12]	@ unaligned
 1936 00f2 3B46     		mov	r3, r7
 1937 00f4 4FF4A052 		mov	r2, #5120
 1938 00f8 FFF7FEFF 		bl	f_read
 1939              	.LVL182:
 389:source\audio/mp3play.c **** 	 mp3_bytesleft += audio_br;
 1940              		.loc 1 389 3 is_stmt 1 view .LVU561
 1941              		.loc 1 389 17 is_stmt 0 view .LVU562
 1942 00fc 2B68     		ldr	r3, [r5]
 1943 00fe 3A68     		ldr	r2, [r7]
 1944 0100 1344     		add	r3, r3, r2
 1945 0102 2B60     		str	r3, [r5]
 390:source\audio/mp3play.c **** 	 if ((res) || (audio_br == 0)) {
 1946              		.loc 1 390 3 is_stmt 1 view .LVU563
 1947              		.loc 1 390 6 is_stmt 0 view .LVU564
 1948 0104 08B9     		cbnz	r0, .L139
 1949              		.loc 1 390 13 discriminator 1 view .LVU565
 1950 0106 002A     		cmp	r2, #0
 1951 0108 6FD1     		bne	.L140
 1952              	.L139:
 391:source\audio/mp3play.c ****             audio_run  = 0;
 1953              		.loc 1 391 13 is_stmt 1 view .LVU566
 1954              		.loc 1 391 24 is_stmt 0 view .LVU567
 1955 010a 464B     		ldr	r3, .L151+52
 1956 010c 0022     		movs	r2, #0
 1957 010e 1A70     		strb	r2, [r3]
 392:source\audio/mp3play.c **** 	    mp3_stop();
 1958              		.loc 1 392 6 is_stmt 1 view .LVU568
 1959 0110 FFF7FEFF 		bl	mp3_stop
 1960              	.LVL183:
 1961              	.L141:
 393:source\audio/mp3play.c **** 	 } else {
 394:source\audio/mp3play.c **** 	    audio_decode_flag = 1;
 395:source\audio/mp3play.c **** 	 }
 396:source\audio/mp3play.c **** 	 audio_read_flag = 0;
 1962              		.loc 1 396 3 view .LVU569
 1963              		.loc 1 396 19 is_stmt 0 view .LVU570
 1964 0114 0023     		movs	r3, #0
 1965 0116 88F80030 		strb	r3, [r8]
 1966              	.L123:
 397:source\audio/mp3play.c ****       }
 398:source\audio/mp3play.c **** }
 1967              		.loc 1 398 1 view .LVU571
 1968 011a 04B0     		add	sp, sp, #16
 1969              		.cfi_remember_state
 1970              		.cfi_def_cfa_offset 32
 1971              		@ sp needed
 1972 011c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1973              	.LVL184:
 1974              	.L132:
 1975              		.cfi_restore_state
 354:source\audio/mp3play.c **** 	    mp3_bytesleft -= mp3_offset;
 1976              		.loc 1 354 6 is_stmt 1 view .LVU572
 354:source\audio/mp3play.c **** 	    mp3_bytesleft -= mp3_offset;
 1977              		.loc 1 354 18 is_stmt 0 view .LVU573
 1978 0120 3B68     		ldr	r3, [r7]
 357:source\audio/mp3play.c **** 	    if (err != 0) {
 1979              		.loc 1 357 12 view .LVU574
 1980 0122 DFF80CA1 		ldr	r10, .L151+64
 354:source\audio/mp3play.c **** 	    mp3_bytesleft -= mp3_offset;
 1981              		.loc 1 354 18 view .LVU575
 1982 0126 0344     		add	r3, r3, r0
 1983 0128 3B60     		str	r3, [r7]
 355:source\audio/mp3play.c **** 	    //err = MP3Decode(mp3decoder,&mp3_readptr,&mp3_bytesleft,(short *)audiodev.tbuf,0);	// POINTER
 1984              		.loc 1 355 6 is_stmt 1 view .LVU576
 355:source\audio/mp3play.c **** 	    //err = MP3Decode(mp3decoder,&mp3_readptr,&mp3_bytesleft,(short *)audiodev.tbuf,0);	// POINTER
 1985              		.loc 1 355 20 is_stmt 0 view .LVU577
 1986 012a 2B68     		ldr	r3, [r5]
 1987 012c 181A     		subs	r0, r3, r0
 1988 012e 2860     		str	r0, [r5]
 357:source\audio/mp3play.c **** 	    if (err != 0) {
 1989              		.loc 1 357 6 is_stmt 1 view .LVU578
 357:source\audio/mp3play.c **** 	    if (err != 0) {
 1990              		.loc 1 357 12 is_stmt 0 view .LVU579
 1991 0130 CDF80090 		str	r9, [sp]
 1992 0134 A368     		ldr	r3, [r4, #8]	@ unaligned
 1993 0136 DAF80000 		ldr	r0, [r10]
 1994 013a 2A46     		mov	r2, r5
 1995 013c 3946     		mov	r1, r7
 1996 013e FFF7FEFF 		bl	MP3Decode
 1997              	.LVL185:
 358:source\audio/mp3play.c **** 	       lcd_printf(0,29,"decode error: %d ",err);
 1998              		.loc 1 358 6 is_stmt 1 view .LVU580
 358:source\audio/mp3play.c **** 	       lcd_printf(0,29,"decode error: %d ",err);
 1999              		.loc 1 358 9 is_stmt 0 view .LVU581
 2000 0142 0346     		mov	r3, r0
 2001 0144 0028     		cmp	r0, #0
 2002 0146 39D0     		beq	.L133
 359:source\audio/mp3play.c **** 	       mp3_stop();
 2003              		.loc 1 359 9 is_stmt 1 view .LVU582
 2004 0148 374A     		ldr	r2, .L151+56
 2005 014a 1D21     		movs	r1, #29
 2006 014c 4846     		mov	r0, r9
 2007              	.LVL186:
 359:source\audio/mp3play.c **** 	       mp3_stop();
 2008              		.loc 1 359 9 is_stmt 0 view .LVU583
 2009 014e FFF7FEFF 		bl	lcd_printf
 2010              	.LVL187:
 360:source\audio/mp3play.c **** 	       audio_decode_flag = 0;
 2011              		.loc 1 360 9 is_stmt 1 view .LVU584
 2012 0152 FFF7FEFF 		bl	mp3_stop
 2013              	.LVL188:
 361:source\audio/mp3play.c **** 	       audio_read_flag = 0;
 2014              		.loc 1 361 9 view .LVU585
 361:source\audio/mp3play.c **** 	       audio_read_flag = 0;
 2015              		.loc 1 361 27 is_stmt 0 view .LVU586
 2016 0156 86F80090 		strb	r9, [r6]
 362:source\audio/mp3play.c **** 	    } else {
 2017              		.loc 1 362 9 is_stmt 1 view .LVU587
 362:source\audio/mp3play.c **** 	    } else {
 2018              		.loc 1 362 25 is_stmt 0 view .LVU588
 2019 015a 88F80090 		strb	r9, [r8]
 2020              	.L134:
 371:source\audio/mp3play.c **** 	       memmove(mp3_buffer,mp3_readptr,mp3_bytesleft);
 2021              		.loc 1 371 6 is_stmt 1 view .LVU589
 371:source\audio/mp3play.c **** 	       memmove(mp3_buffer,mp3_readptr,mp3_bytesleft);
 2022              		.loc 1 371 24 is_stmt 0 view .LVU590
 2023 015e 2A68     		ldr	r2, [r5]
 371:source\audio/mp3play.c **** 	       memmove(mp3_buffer,mp3_readptr,mp3_bytesleft);
 2024              		.loc 1 371 9 view .LVU591
 2025 0160 40F62773 		movw	r3, #3879
 2026 0164 9A42     		cmp	r2, r3
 2027 0166 AEDC     		bgt	.L136
 372:source\audio/mp3play.c **** 	       f_read(audiodev.file,mp3_buffer + mp3_bytesleft,MP3_FILE_BUF_SZ - mp3_bytesleft,&audio_br);
 2028              		.loc 1 372 9 is_stmt 1 view .LVU592
 2029 0168 DFF8B090 		ldr	r9, .L151+44
 2030 016c 3968     		ldr	r1, [r7]
 2031 016e D9F80000 		ldr	r0, [r9]
 373:source\audio/mp3play.c **** 	       if (audio_br < (unsigned int)(MP3_FILE_BUF_SZ - mp3_bytesleft)) {
 2032              		.loc 1 373 9 is_stmt 0 view .LVU593
 2033 0172 DFF8ACA0 		ldr	r10, .L151+48
 372:source\audio/mp3play.c **** 	       f_read(audiodev.file,mp3_buffer + mp3_bytesleft,MP3_FILE_BUF_SZ - mp3_bytesleft,&audio_br);
 2034              		.loc 1 372 9 view .LVU594
 2035 0176 FFF7FEFF 		bl	memmove
 2036              	.LVL189:
 373:source\audio/mp3play.c **** 	       if (audio_br < (unsigned int)(MP3_FILE_BUF_SZ - mp3_bytesleft)) {
 2037              		.loc 1 373 9 is_stmt 1 view .LVU595
 2038 017a 2968     		ldr	r1, [r5]
 2039 017c D9F80000 		ldr	r0, [r9]
 2040 0180 C1F5A052 		rsb	r2, r1, #5120
 2041 0184 5346     		mov	r3, r10
 2042 0186 0144     		add	r1, r1, r0
 2043 0188 E068     		ldr	r0, [r4, #12]	@ unaligned
 2044 018a FFF7FEFF 		bl	f_read
 2045              	.LVL190:
 374:source\audio/mp3play.c **** 		  memset(mp3_buffer + mp3_bytesleft + audio_br,0,MP3_FILE_BUF_SZ - mp3_bytesleft - audio_br);
 2046              		.loc 1 374 9 view .LVU596
 374:source\audio/mp3play.c **** 		  memset(mp3_buffer + mp3_bytesleft + audio_br,0,MP3_FILE_BUF_SZ - mp3_bytesleft - audio_br);
 2047              		.loc 1 374 55 is_stmt 0 view .LVU597
 2048 018e 2868     		ldr	r0, [r5]
 374:source\audio/mp3play.c **** 		  memset(mp3_buffer + mp3_bytesleft + audio_br,0,MP3_FILE_BUF_SZ - mp3_bytesleft - audio_br);
 2049              		.loc 1 374 22 view .LVU598
 2050 0190 DAF80030 		ldr	r3, [r10]
 374:source\audio/mp3play.c **** 		  memset(mp3_buffer + mp3_bytesleft + audio_br,0,MP3_FILE_BUF_SZ - mp3_bytesleft - audio_br);
 2051              		.loc 1 374 55 view .LVU599
 2052 0194 C0F5A052 		rsb	r2, r0, #5120
 374:source\audio/mp3play.c **** 		  memset(mp3_buffer + mp3_bytesleft + audio_br,0,MP3_FILE_BUF_SZ - mp3_bytesleft - audio_br);
 2053              		.loc 1 374 12 view .LVU600
 2054 0198 9A42     		cmp	r2, r3
 2055 019a 08D9     		bls	.L137
 375:source\audio/mp3play.c **** 	       }
 2056              		.loc 1 375 5 is_stmt 1 view .LVU601
 375:source\audio/mp3play.c **** 	       }
 2057              		.loc 1 375 39 is_stmt 0 view .LVU602
 2058 019c 0344     		add	r3, r3, r0
 2059 019e D9F80000 		ldr	r0, [r9]
 375:source\audio/mp3play.c **** 	       }
 2060              		.loc 1 375 5 view .LVU603
 2061 01a2 C3F5A052 		rsb	r2, r3, #5120
 2062 01a6 0021     		movs	r1, #0
 2063 01a8 1844     		add	r0, r0, r3
 2064 01aa FFF7FEFF 		bl	memset
 2065              	.LVL191:
 2066              	.L137:
 377:source\audio/mp3play.c **** 	       mp3_readptr = mp3_buffer;
 2067              		.loc 1 377 9 is_stmt 1 view .LVU604
 377:source\audio/mp3play.c **** 	       mp3_readptr = mp3_buffer;
 2068              		.loc 1 377 23 is_stmt 0 view .LVU605
 2069 01ae 4FF4A053 		mov	r3, #5120
 2070 01b2 2B60     		str	r3, [r5]
 378:source\audio/mp3play.c **** 	    }
 2071              		.loc 1 378 9 is_stmt 1 view .LVU606
 378:source\audio/mp3play.c **** 	    }
 2072              		.loc 1 378 21 is_stmt 0 view .LVU607
 2073 01b4 D9F80030 		ldr	r3, [r9]
 2074 01b8 3B60     		str	r3, [r7]
 2075 01ba 84E7     		b	.L136
 2076              	.LVL192:
 2077              	.L133:
 364:source\audio/mp3play.c **** 	       if (mp3ctrl->bitrate != (unsigned int)mp3frameinfo.bitrate) {
 2078              		.loc 1 364 9 is_stmt 1 view .LVU608
 2079 01bc DFF87490 		ldr	r9, .L151+68
 2080 01c0 DAF80000 		ldr	r0, [r10]
 2081              	.LVL193:
 364:source\audio/mp3play.c **** 	       if (mp3ctrl->bitrate != (unsigned int)mp3frameinfo.bitrate) {
 2082              		.loc 1 364 9 is_stmt 0 view .LVU609
 2083 01c4 4946     		mov	r1, r9
 2084 01c6 FFF7FEFF 		bl	MP3GetLastFrameInfo
 2085              	.LVL194:
 365:source\audio/mp3play.c **** 	          mp3ctrl->bitrate = mp3frameinfo.bitrate;
 2086              		.loc 1 365 9 is_stmt 1 view .LVU610
 365:source\audio/mp3play.c **** 	          mp3ctrl->bitrate = mp3frameinfo.bitrate;
 2087              		.loc 1 365 20 is_stmt 0 view .LVU611
 2088 01ca 0D4B     		ldr	r3, .L151+16
 365:source\audio/mp3play.c **** 	          mp3ctrl->bitrate = mp3frameinfo.bitrate;
 2089              		.loc 1 365 33 view .LVU612
 2090 01cc D9F80020 		ldr	r2, [r9]
 365:source\audio/mp3play.c **** 	          mp3ctrl->bitrate = mp3frameinfo.bitrate;
 2091              		.loc 1 365 20 view .LVU613
 2092 01d0 1B68     		ldr	r3, [r3]
 2093 01d2 996D     		ldr	r1, [r3, #88]	@ unaligned
 365:source\audio/mp3play.c **** 	          mp3ctrl->bitrate = mp3frameinfo.bitrate;
 2094              		.loc 1 365 12 view .LVU614
 2095 01d4 9142     		cmp	r1, r2
 366:source\audio/mp3play.c **** 	       }
 2096              		.loc 1 366 12 is_stmt 1 view .LVU615
 366:source\audio/mp3play.c **** 	       }
 2097              		.loc 1 366 29 is_stmt 0 view .LVU616
 2098 01d6 18BF     		it	ne
 2099 01d8 9A65     		strne	r2, [r3, #88]	@ unaligned
 369:source\audio/mp3play.c **** 	    }
 2100              		.loc 1 369 9 is_stmt 1 view .LVU617
 2101 01da B9F81010 		ldrh	r1, [r9, #16]
 2102 01de 99F80420 		ldrb	r2, [r9, #4]	@ zero_extendqisi2
 2103 01e2 A068     		ldr	r0, [r4, #8]	@ unaligned
 2104 01e4 FFF7FEFF 		bl	mp3_fill_buffer
 2105              	.LVL195:
 2106 01e8 B9E7     		b	.L134
 2107              	.LVL196:
 2108              	.L140:
 394:source\audio/mp3play.c **** 	 }
 2109              		.loc 1 394 6 view .LVU618
 394:source\audio/mp3play.c **** 	 }
 2110              		.loc 1 394 24 is_stmt 0 view .LVU619
 2111 01ea 0123     		movs	r3, #1
 2112 01ec 3370     		strb	r3, [r6]
 2113 01ee 91E7     		b	.L141
 2114              	.L152:
 2115              		.align	2
 2116              	.L151:
 2117 01f0 00000000 		.word	audiodev
 2118 01f4 00000000 		.word	audio_decode_flag
 2119 01f8 00000000 		.word	audio_pause
 2120 01fc 00000000 		.word	audio_delay
 2121 0200 00000000 		.word	.LANCHOR2
 2122 0204 00000000 		.word	audio_old_sec
 2123 0208 00000000 		.word	.LC13
 2124 020c 00000000 		.word	.LANCHOR7
 2125 0210 00000000 		.word	.LANCHOR8
 2126 0214 00000000 		.word	.LANCHOR5
 2127 0218 00000000 		.word	.LANCHOR6
 2128 021c 00000000 		.word	.LANCHOR4
 2129 0220 00000000 		.word	audio_br
 2130 0224 00000000 		.word	audio_run
 2131 0228 19000000 		.word	.LC14
 2132 022c 00000000 		.word	audio_read_flag
 2133 0230 00000000 		.word	.LANCHOR3
 2134 0234 00000000 		.word	.LANCHOR9
 2135              		.cfi_endproc
 2136              	.LFE139:
 2138              		.global	mp3_bytesleft
 2139              		.global	mp3_outofdata
 2140              		.global	mp3_offset
 2141              		.global	mp3_readptr
 2142              		.global	mp3_buffer
 2143              		.global	mp3frameinfo
 2144              		.global	mp3decoder
 2145              		.global	mp3witchbuf
 2146              		.global	mp3transferend
 2147              		.global	mp3ctrl
 2148              		.section	.bss.mp3_buffer,"aw",%nobits
 2149              		.align	2
 2150              		.set	.LANCHOR4,. + 0
 2153              	mp3_buffer:
 2154 0000 00000000 		.space	4
 2155              		.section	.bss.mp3_bytesleft,"aw",%nobits
 2156              		.align	2
 2157              		.set	.LANCHOR7,. + 0
 2160              	mp3_bytesleft:
 2161 0000 00000000 		.space	4
 2162              		.section	.bss.mp3_offset,"aw",%nobits
 2163              		.align	2
 2164              		.set	.LANCHOR5,. + 0
 2167              	mp3_offset:
 2168 0000 00000000 		.space	4
 2169              		.section	.bss.mp3_outofdata,"aw",%nobits
 2170              		.align	2
 2171              		.set	.LANCHOR6,. + 0
 2174              	mp3_outofdata:
 2175 0000 00000000 		.space	4
 2176              		.section	.bss.mp3_readptr,"aw",%nobits
 2177              		.align	2
 2178              		.set	.LANCHOR8,. + 0
 2181              	mp3_readptr:
 2182 0000 00000000 		.space	4
 2183              		.section	.bss.mp3ctrl,"aw",%nobits
 2184              		.align	2
 2185              		.set	.LANCHOR2,. + 0
 2188              	mp3ctrl:
 2189 0000 00000000 		.space	4
 2190              		.section	.bss.mp3decoder,"aw",%nobits
 2191              		.align	2
 2192              		.set	.LANCHOR3,. + 0
 2195              	mp3decoder:
 2196 0000 00000000 		.space	4
 2197              		.section	.bss.mp3frameinfo,"aw",%nobits
 2198              		.align	2
 2199              		.set	.LANCHOR9,. + 0
 2202              	mp3frameinfo:
 2203 0000 00000000 		.space	28
 2203      00000000 
 2203      00000000 
 2203      00000000 
 2203      00000000 
 2204              		.section	.bss.mp3transferend,"aw",%nobits
 2205              		.set	.LANCHOR1,. + 0
 2208              	mp3transferend:
 2209 0000 00       		.space	1
 2210              		.section	.bss.mp3witchbuf,"aw",%nobits
 2211              		.set	.LANCHOR0,. + 0
 2214              	mp3witchbuf:
 2215 0000 00       		.space	1
 2216              		.text
 2217              	.Letext0:
 2218              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2219              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2220              		.file 4 "/project/stm32f4x_iolib/include/cmsis/stm32f4xx.h"
 2221              		.file 5 "source\\audio\\../fatfs/integer.h"
 2222              		.file 6 "source\\audio\\../fatfs/ff.h"
 2223              		.file 7 "source\\audio\\../prototype.h"
 2224              		.file 8 "source\\audio\\mp3dec.h"
 2225              		.file 9 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2226              		.file 10 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 2227              		.file 11 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:00000000 mp3play.c
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:20     .text.mp3_i2s_dma_tx_callback:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:26     .text.mp3_i2s_dma_tx_callback:00000000 mp3_i2s_dma_tx_callback
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:113    .text.mp3_i2s_dma_tx_callback:0000004c $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:121    .text.mp3_file_seek:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:127    .text.mp3_file_seek:00000000 mp3_file_seek
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:163    .text.mp3_file_seek:00000020 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:168    .text.mp3_fill_buffer:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:174    .text.mp3_fill_buffer:00000000 mp3_fill_buffer
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:308    .text.mp3_fill_buffer:00000078 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:320    .text.mp3_id3v1_decode:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:326    .text.mp3_id3v1_decode:00000000 mp3_id3v1_decode
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:402    .text.mp3_id3v1_decode:0000003c $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:420    .text.mp3_id3v2_decode:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:426    .text.mp3_id3v2_decode:00000000 mp3_id3v2_decode
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:648    .text.mp3_id3v2_decode:000000e8 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:665    .text.mp3_get_info:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:671    .text.mp3_get_info:00000000 mp3_get_info
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1026   .text.mp3_get_info:00000198 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1034   .text.mp3_get_curtime:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1040   .text.mp3_get_curtime:00000000 mp3_get_curtime
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1089   .text.mp3_stop:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1095   .text.mp3_stop:00000000 mp3_stop
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1182   .text.mp3_stop:00000060 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1204   .text.mp3_play_song:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1210   .text.mp3_play_song:00000000 mp3_play_song
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1695   .text.mp3_play_song:00000324 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1721   .text.mp3_play:00000000 $t
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:1727   .text.mp3_play:00000000 mp3_play
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2117   .text.mp3_play:000001f0 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2160   .bss.mp3_bytesleft:00000000 mp3_bytesleft
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2174   .bss.mp3_outofdata:00000000 mp3_outofdata
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2167   .bss.mp3_offset:00000000 mp3_offset
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2181   .bss.mp3_readptr:00000000 mp3_readptr
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2153   .bss.mp3_buffer:00000000 mp3_buffer
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2202   .bss.mp3frameinfo:00000000 mp3frameinfo
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2195   .bss.mp3decoder:00000000 mp3decoder
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2214   .bss.mp3witchbuf:00000000 mp3witchbuf
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2208   .bss.mp3transferend:00000000 mp3transferend
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2188   .bss.mp3ctrl:00000000 mp3ctrl
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2149   .bss.mp3_buffer:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2156   .bss.mp3_bytesleft:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2163   .bss.mp3_offset:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2170   .bss.mp3_outofdata:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2177   .bss.mp3_readptr:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2184   .bss.mp3ctrl:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2191   .bss.mp3decoder:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2198   .bss.mp3frameinfo:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2209   .bss.mp3transferend:00000000 $d
C:\Users\dinot\AppData\Local\Temp\cceeyj5f.s:2215   .bss.mp3witchbuf:00000000 $d

UNDEFINED SYMBOLS
audiodev
f_lseek
tick_process
tick
audio_pause
strncmp
strncpy
lcd_printf
malloc
f_open
f_read
MP3InitDecoder
MP3FindSyncWord
MP3FreeDecoder
f_close
free
MP3GetNextFrameInfo
audio_stop
audio_run
audio_decode_flag
audio_read_flag
audio_play_function
audio_stop_function
music_play
memset
LCD_Draw_Circle
LCD_DrawRectangle
LCD_DrawLine
WM8978_I2S_Cfg
I2S2_Init
I2S2_SampleRate_Set
I2S2_TX_DMA_Init
audio_start
audio_br
volume
i2s_tx_callback
MP3Decode
memmove
MP3GetLastFrameInfo
audio_delay
audio_old_sec
